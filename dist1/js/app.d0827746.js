(function(t){function e(e){for(var i,n,o=e[0],l=e[1],c=e[2],u=0,v=[];u<o.length;u++)n=o[u],s[n]&&v.push(s[n][0]),s[n]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);d&&d(e);while(v.length)v.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],i=!0,o=1;o<a.length;o++){var l=a[o];0!==s[l]&&(i=!1)}i&&(r.splice(e--,1),t=n(n.s=a[0]))}return t}var i={},s={app:0},r=[];function n(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=i,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(a,i,function(e){return t[e]}.bind(null,i));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0dc2":function(t,e,a){},"146b":function(t,e,a){"use strict";var i=a("0dc2"),s=a.n(i);s.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var i=a("2b0e"),s=a("bb71");a("da64");i["a"].use(s["a"],{iconfont:"md",theme:{primary:"#F26937",secondary:"#4C729A",success:"#8fd0e6",background:"#dedee7",info:"#d59de0",error:"#f83e70"}});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[-1==["Login","Register","ResetPass"].indexOf(t.$route.name)?a("Navbar"):t._e(),a("v-content",[a("router-view")],1),-1==["Login","Register","ResetPass"].indexOf(t.$route.name)?a("BottomNav"):t._e()],1)},n=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",[a("v-snackbar",{attrs:{timeout:4e3,top:"",color:"success"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[a("span",[t._v(t._s(t.message))])]),a("v-toolbar",{attrs:{app:"",color:"secondary",flat:""}},[a("v-avatar",{attrs:{size:"36px"}},[a("img",{attrs:{alt:"Avatar",src:"logo.png"}})]),a("v-toolbar-title",{staticClass:"text-uppercase white--text"},[a("span",{staticClass:"white--text text-none"},[t._v("Healthcare Connect")])]),a("v-spacer"),a("v-menu",{attrs:{left:""}},[a("v-badge",{attrs:{slot:"activator",overlap:"",color:"red"},slot:"activator"},[a("v-icon",{attrs:{color:"white"}},[t._v("\n\t\t\t\t\t\tnotifications_none\n\t\t\t\t\t")]),0!=t.notifications?a("span",{attrs:{slot:"badge"},slot:"badge"},[t._v(" "+t._s(t.notifications.length)+" ")]):t._e()],1),a("v-list",{attrs:{"two-line":""}},[t._l(t.notifications,(function(e,i){return t.notifications?["App\\Notifications\\NewServiceRequest"==e.type?a("v-list-tile",{key:e.id,attrs:{avatar:"",router:"",to:{name:"serviceRequests",params:{id:e.data.serviceRequest.id}}},on:{click:function(a){return t.readNotification(e)}}},[a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e.data.requester.first_name)+" "+t._s(e.data.requester.last_name))]),a("v-list-tile-sub-title",[t._v("Individual Service Request")])],1)],1):t._e(),"App\\Notifications\\AcceptServiceRequest"==e.type?a("v-list-tile",{key:e.id,attrs:{avatar:"",router:"",to:{name:"serviceRequests",params:{id:e.data.serviceRequest.id}}},on:{click:function(a){return t.readNotification(e)}}},[a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e.data.recipient.first_name)+" "+t._s(e.data.recipient.last_name))]),a("v-list-tile-sub-title",[t._v("Service Request Accepted")])],1)],1):t._e(),"App\\Notifications\\RejectServiceRequest"==e.type?a("v-list-tile",{key:e.id,attrs:{avatar:"",router:"",to:{name:"serviceRequests",params:{id:e.data.serviceRequest.id}}},on:{click:function(a){return t.readNotification(e)}}},[a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e.data.recipient.first_name)+" "+t._s(e.data.recipient.last_name))]),a("v-list-tile-sub-title",[t._v("Service Request Rejected")])],1)],1):t._e(),a("v-divider",{key:i})]:t._e()})),0==t.notifications.length?[a("v-list-tile",{on:{click:function(t){}}},[a("v-list-tile-content",[a("v-list-tile-sub-title",[t._v("No New Notification")])],1)],1)]:t._e()],2)],1),a("v-menu",{attrs:{left:"","offset-y":""}},[a("v-btn",{attrs:{slot:"activator",icon:""},slot:"activator"},[a("v-icon",{attrs:{color:"white"}},[t._v("more_vert")])],1),a("v-list",[a("v-list-tile",{attrs:{router:"",to:"/profile"}},[a("v-list-tile-title",[a("v-icon",{attrs:{left:""}},[t._v("\n\t\t\t\t\t\t\tperson\n\t\t\t\t\t\t\t")]),t._v("\n\t\t\t\t\t\t\tProfile\n\t\t\t\t\t\t")],1)],1),t.$can("manage")?a("v-list-tile",{attrs:{router:"",to:"/admin"}},[a("v-list-tile-title",[a("v-icon",{attrs:{left:""}},[t._v("\n\t\t\t\t\t\t\tlist\n\t\t\t\t\t\t\t")]),t._v("\n\t\t\t\t\t\t\tManage\n\t\t\t\t\t\t")],1)],1):t._e(),a("v-list-tile",{on:{click:t.signOut}},[a("v-list-tile-title",[a("v-icon",{attrs:{left:""}},[t._v("\n\t\t\t\t\t\tlock\n\t\t\t\t\t\t")]),t._v("\n\t\t\t\t\t\tSign Out\n\t\t\t\t\t")],1)],1)],1)],1)],1),a("v-navigation-drawer",{staticClass:"primary",attrs:{app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-layout",{attrs:{column:"","align-center":""}},[a("v-flex",{staticClass:"mt-5"},[a("v-avatar",{attrs:{size:"100"}},[a("img",{attrs:{src:"logo.png"}})]),a("p",{staticClass:"white--text subheading mt-1"},[t._v("\n\t\t\t\t\tHRH Konect\n\t\t\t\t\t")])],1)],1),a("v-list",[t._l(t.links,(function(e){return a("v-list-tile",{key:e.text,attrs:{router:"",to:e.route}},[a("v-list-tile-action",[a("v-icon",{staticClass:"white--text"},[t._v(t._s(e.icon))])],1),a("v-list-tile-content",[a("v-list-tile-title",{staticClass:"white--text"},[t._v(t._s(e.text))])],1)],1)})),t.$can("manage")?a("v-list-tile",{attrs:{to:"/admin"}},[a("v-list-tile-action",[a("v-icon",{staticClass:"white--text"},[t._v("home")])],1),a("v-list-tile-title",{staticClass:"white--text"},[t._v(" Dashboard")])],1):t._e(),t.$can("manage")?a("v-list-tile",{attrs:{to:"/admin/requests"}},[a("v-list-tile-action",[a("v-icon",{staticClass:"white--text"},[t._v("list")])],1),a("v-list-tile-title",{staticClass:"white--text"},[t._v(" Manage Requests")])],1):t._e(),t.$can("manage")?a("v-list-tile",{attrs:{to:"/admin/Healthworkers"}},[a("v-list-tile-action",[a("v-icon",{staticClass:"white--text"},[t._v("account_circle")])],1),a("v-list-tile-title",{staticClass:"white--text"},[t._v("Health Workers")])],1):t._e(),t.$can("manage")?a("v-list-tile",{attrs:{to:"/admin/WorkerRatings"}},[a("v-list-tile-action",[a("v-icon",{staticClass:"white--text"},[t._v("check_circle_outline")])],1),a("v-list-tile-title",{staticClass:"white--text"},[t._v(" Worker Ratings")])],1):t._e(),t.$can("manage")?a("v-list-tile",{attrs:{to:"/admin/facilities"}},[a("v-list-tile-action",[a("v-icon",{staticClass:"white--text"},[t._v("line_weight")])],1),a("v-list-tile-title",{staticClass:"white--text"},[t._v("Facilities")])],1):t._e(),t.$can("manage")?a("v-list-group",{attrs:{"prepend-icon":"security","no-action":""}},[a("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-tile-title",{staticClass:"white--text"},[t._v("Access Control")])],1),t._l(t.access_controls,(function(e,i){return a("v-list-tile",{key:i,attrs:{to:{path:e.path}}},[a("v-list-tile-action",[a("v-icon",{staticClass:"white--text",domProps:{textContent:t._s(e.icon)}})],1),a("v-list-tile-title",{staticClass:"white--text",domProps:{textContent:t._s(e.label)}})],1)}))],2):t._e(),t.$can("manage")?a("v-list-group",{staticClass:"white--text",attrs:{"prepend-icon":"folder","no-action":""}},[a("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-tile-title",{staticClass:"white--text"},[t._v("Reports")])],1),t._l(t.report,(function(e,i){return a("v-list-tile",{key:i,staticClass:"white--text",attrs:{to:{path:e.path}}},[a("v-list-tile-action",[a("v-icon",{staticClass:"white--text",domProps:{textContent:t._s(e.icon)}})],1),a("v-list-tile-title",{staticClass:"white--text",domProps:{textContent:t._s(e.label)}})],1)}))],2):t._e(),a("v-list-tile",{on:{click:t.signOut}},[a("v-list-tile-action",[a("v-icon",[t._v("exit_to_app")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("Sign Out")])],1)],1)],2)],1)],1)},l=[],c=a("cebc"),d="AUTH_REQUEST",u="AUTH_SUCCESS",v="AUTH_ERROR",m="AUTH_LOGOUT",p=a("2f62"),f=a("795b"),g=a.n(f),h=a("bc3a"),_=a.n(h),x="https://api.healthcarekonect.com",b=function(t){var e=t.url,a=t.data,i=t.method;return new g.a((function(t,s){console.log(e),e=x+e,setTimeout((function(){try{_.a.defaults.headers.common["Authorization"]=localStorage.getItem("user-token"),"GET"==i?_.a.get(e,{crossdomain:!0}).then((function(e){t(e.data)})).catch((function(t){s(new Error(t))})):"POST"==i?_.a.post(e,a).then((function(e){t(e.data)})).catch((function(t){s(new Error(t))})):"PUT"==i?_.a.put(e,a).then((function(e){t(e.data)})).catch((function(t){s(new Error(t))})):"DELETE"==i&&_()({method:"delete",url:e,data:null}).then((function(e){t(e.data)})).catch((function(t){s(new Error(t))}))}catch(r){s(new Error(r))}}),1e3)}))},k=b,y=(a("782e"),{components:{},data:function(){return{color:"",message:"",snackbar:!1,drawer:!0,links:[{icon:"assignment",text:"Make Request",route:"/"}],access_controls:[{path:"/admin/users",label:"User Accounts",icon:"people"},{path:"/admin/Permissions",label:"Permissions",icon:"visibility"},{path:"/admin/Roles",label:"Role",icon:"contacts"},{path:"/admin/roleUsers",label:"Assign Roles",icon:"verified_user"}],report:[{path:"/admin/report/requests",label:"Monthly Requests",icon:"assignment_turned_in"},{path:"/admin/report/averageratings",label:"Average Ratings",icon:"check_circle_outline"}]}},created:function(){this.initialize()},methods:Object(c["a"])({},Object(p["b"])(["fetchnotifications"]),{initialize:function(){var t=this;Echo.private("App.User.".concat(this.getProfile.id)).notification((function(e){"App\\Notifications\\NewServiceRequest"==e.type?(t.message="New Service Request",t.color="success"):"App\\Notifications\\AcceptServiceRequest"==e.type?(t.message="Service Request Accepted",t.color="success"):"App\\Notifications\\RejectServiceRequest"==e.type&&(t.message="Service Request Rejected",t.color="error"),t.snackbar=!0,t.fetchnotifications()})),this.fetchnotifications()},readNotification:function(t){var e=this.notifications.indexOf(t);this.notifications.splice(e,1),k({url:"/api/notificationRead/"+t.id,method:"GET"}).then((function(t){console.log("notification cleared")})).catch((function(t){console.log(t.response)}))},signOut:function(){var t=this;this.$store.dispatch(m).then((function(){return t.$router.push("/login")}))}}),computed:Object(c["a"])({},Object(p["c"])(["notifications","isAuthenticated","getProfile"]))}),w=y,C=a("2877"),D=a("6544"),I=a.n(D),q=a("8212"),P=a("4ca6"),V=a("8336"),R=a("ce7e"),T=a("0e8f"),S=a("132d"),O=a("a722"),E=a("8860"),$=a("56b0"),j=a("ba95"),U=a("40fe"),L=a("5d23"),A=a("e449"),F=a("f774"),M=a("2db4"),z=a("9910"),H=a("71d9"),N=a("2a7f"),W=Object(C["a"])(w,o,l,!1,null,null,null),G=W.exports;I()(W,{VAvatar:q["a"],VBadge:P["a"],VBtn:V["a"],VDivider:R["a"],VFlex:T["a"],VIcon:S["a"],VLayout:O["a"],VList:E["a"],VListGroup:$["a"],VListTile:j["a"],VListTileAction:U["a"],VListTileContent:L["a"],VListTileSubTitle:L["b"],VListTileTitle:L["c"],VMenu:A["a"],VNavigationDrawer:F["a"],VSnackbar:M["a"],VSpacer:z["a"],VToolbar:H["a"],VToolbarTitle:N["b"]});var B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-bottom-nav",{attrs:{fixed:"",app:"",active:t.bottomNav,value:!0,color:"white"},on:{"update:active":function(e){t.bottomNav=e}}},[a("v-btn",{attrs:{icon:"",flat:"",router:"",to:"/"}},[a("span",[t._v("Home")]),a("v-icon",{attrs:{dark:""}},[t._v("home")])],1),a("v-btn",{attrs:{router:"",to:"/service-requests"}},[a("span",[t._v("Service Requests")]),a("v-icon",{attrs:{dark:""}},[t._v("touch_app")])],1),t.$can("receive_service")?a("v-btn",{attrs:{router:"",to:"/hospitals"}},[a("span",[t._v("Hospitals")]),a("v-icon",{attrs:{dark:""}},[t._v("local_hospital")])],1):t._e(),t.$can("individual_request_service")?a("v-btn",{attrs:{router:"",to:"/favourites"}},[a("span",[t._v("Favourites")]),a("v-icon",[t._v("star")])],1):t._e()],1)},Q=[],Y=a("bd86"),K=Object(Y["a"])({data:function(){return{bottomNav:"dashboard"}},methods:{signOut:function(){var t=this;this.$store.dispatch(AUTH_LOGOUT).then((function(){return t.$router.push("/login")}))}},created:function(){},computed:{}},"methods",Object(c["a"])({},Object(p["b"])(["USER_REQUEST"]))),Z=K,J=a("887a"),X=Object(C["a"])(Z,B,Q,!1,null,null,null);X.exports;I()(X,{VBottomNav:J["a"],VBtn:V["a"],VIcon:S["a"]});var tt=a("5638"),et={name:"App",components:{Navbar:G},data:function(){return{}},created:function(){window.Pusher=a("782e"),window.Echo=new tt["a"]({authEndpoint:"https://api.healthcarekonect.com/broadcasting/auth",broadcaster:"pusher",auth:{headers:{Authorization:localStorage.getItem("user-token")}},key:"a10beda06c429197af5c",cluster:"mt1",encrypted:!0})}},at=et,it=a("7496"),st=a("549c"),rt=Object(C["a"])(at,r,n,!1,null,null,null),nt=rt.exports;I()(rt,{VApp:it["a"],VContent:st["a"]});var ot=a("8c4f"),lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"login_div"}},[a("v-snackbar",{attrs:{timeout:4e3,top:"",color:t.color},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[a("span",[t._v(t._s(t.message))])]),a("v-layout",{attrs:{column:""}},[a("v-flex",{staticClass:"mt-3",attrs:{xs12:""}}),a("v-flex",{staticClass:"mt-5",attrs:{xs12:""}}),a("v-flex",{staticClass:"mt-5",attrs:{xs12:""}}),a("v-flex",{staticClass:"mt-5",attrs:{xs12:""}},[a("div",{staticClass:"mt-5",attrs:{align:"center"}},[a("p",{staticClass:"headline white--text"},[a("b",[t._v("Welcome Back!")])]),a("p",{staticClass:"white--text"},[t._v("Login to continue HRH Connect")])])]),a("v-flex",{staticClass:"ma-2",attrs:{xs12:"",sm6:""}},[a("v-card",{staticClass:"elevation-0",attrs:{color:"transparent"}},[a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-layout",{attrs:{"justify-center":"",row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-text-field",{staticClass:"text_field",attrs:{rules:t.emailRules,"prepend-inner-icon":"mail_outline",name:"username",label:"E-mail",outline:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),a("v-text-field",{staticClass:"text_field mt-4",attrs:{"prepend-inner-icon":"lock",rules:t.passwordRules,name:"password",label:"Password",type:"password",outline:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("v-flex",{staticClass:"mb-5",attrs:{xs12:""}},[a("div",{staticClass:"mt-3",attrs:{align:"right"}})])],1)],1)],1),a("v-card-actions",[a("v-layout",{staticClass:"ma-1",attrs:{column:""}},[a("v-flex",{attrs:{xs12:"",sm4:""}},[a("div",{attrs:{align:"center"}},[a("v-btn",{staticClass:"mx-2 mb-3 text-none",attrs:{small:"",large:"",flatblock:"",color:"primary text-none",disabled:!t.valid,loading:t.loading},on:{click:t.login}},[a("a",{staticClass:"white--text"},[t._v("Login")])])],1)]),a("v-flex",[a("div",{staticClass:"mt-2",attrs:{align:"center"}},[a("v-btn",{staticClass:"mx-2 mb-3 text-none",attrs:{small:"",large:"",flat:"",router:"",to:"/register"}},[a("a",{staticClass:"white--text"},[t._v("New User? Sign Up")])])],1),a("div",{staticClass:"mt-2",attrs:{align:"center"}},[a("v-btn",{staticClass:"mx-2 mb-3 text-none",attrs:{small:"",large:"",flat:"",router:"",to:"/reset-password"}},[a("a",{staticClass:"white--text"},[t._v("Forgot Password?")])])],1)])],1)],1)],1)],1)],1)],1)},ct=[],dt=a("05f3"),ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-progress-linear",{attrs:{indeterminate:t.query,query:!0,active:t.show},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})},vt=[],mt={name:"Loading",data:function(){return{value:0,query:!1,show:!0,interval:0}},mounted:function(){this.queryAndIndeterminate()},beforeDestroy:function(){clearInterval(this.interval)},methods:{queryAndIndeterminate:function(){var t=this;this.query=!0,this.show=!0,this.value=0,this.query=!1,this.interval=setInterval((function(){if(100===t.value)return clearInterval(t.interval),t.show=!1,setTimeout(t.queryAndIndeterminate,2e3);t.value+=25}),1e3)}}},pt=mt,ft=a("8e36"),gt=Object(C["a"])(pt,ut,vt,!1,null,null,null),ht=gt.exports;I()(gt,{VProgressLinear:ft["a"]});var _t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard grey--lighten-1"},[a("v-snackbar",{attrs:{timeout:4e3,bottom:"",right:"",color:t.color},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[a("span",[t._v(t._s(t.message))])]),a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-dialog",{attrs:{persistent:"",transition:"dialog-bottom-transition","max-width":"900"},model:{value:t.loginCardState,callback:function(e){t.loginCardState=e},expression:"loginCardState"}},[a("v-card",{staticClass:"elevation-1",attrs:{"max-width":"900"}},[a("v-toolbar",{attrs:{dark:"",flat:"",color:"transparent"}},[a("v-spacer"),a("v-btn",{attrs:{icon:"",dark:""},on:{click:t.changeLoginCardState}},[a("v-icon",{attrs:{large:"",color:"black"}},[t._v("close")])],1)],1),a("v-layout",{attrs:{column:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[1==t.level1?a("v-flex",{staticClass:"hidden-md-and-up pa-5",attrs:{xs12:"",md6:""}},[a("v-img",{attrs:{src:"foundation.jpeg"}})],1):t._e(),a("v-flex",{staticClass:"hidden-sm-and-down pa-5",attrs:{xs12:"",md6:""}},[a("v-img",{attrs:{src:"foundation.jpeg"}})],1),1==t.level1?a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-card-text",[a("v-card-title",{attrs:{"primary-title":""}},[a("div",{staticClass:"title font-weight-medium secondary--text",attrs:{align:"center"}},[t._v("\n                        Member Login\n                      ")])]),a("v-text-field",{staticClass:"text_field",attrs:{rules:t.emailRules,"prepend-icon":"person",name:"username",label:"E-mail",required:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),a("v-text-field",{staticClass:"text_field mt-3",attrs:{flat:"","prepend-icon":"lock",rules:t.passwordRules,name:"password",label:"Password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("v-card-actions",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"title font-weight-medium secondary--text",attrs:{align:"center"}},[a("v-btn",{staticClass:"mb-4 text-none",attrs:{depressed:"",block:"",large:"",color:"secondary",round:"",disabled:!t.valid,loading:t.loading},on:{click:t.login}},[t._v("\n                            Login\n                              "),a("v-icon",{attrs:{dark:"",right:""}},[t._v("check_circle")])],1)],1)]),a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",md6:""}},[a("div",{attrs:{align:"left"}},[a("v-btn",{staticClass:"mx-2 mb-3 text-none",attrs:{small:"",large:"",flat:"",router:"",to:"/reset-password"}},[a("a",[t._v("Forgot Password?")])])],1)]),a("v-flex",{attrs:{xs12:"",md6:""}},[a("div",{attrs:{align:"right"}},[a("v-btn",{staticClass:"mx-2 mb-3 text-none",attrs:{small:"",large:"",flat:""},on:{click:t.createAccount}},[a("a",[t._v("Create an account")])])],1)])],1)],1)],1)],1)],1)],1):t._e(),1==t.level2?a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-form",{ref:"regForm",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-card-text",[a("v-card-title",{attrs:{"primary-title":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs2:""}},[a("v-icon",{attrs:{color:"black"},on:{click:function(e){return t.goBack()}}},[t._v("arrow_back")])],1),a("v-flex",{attrs:{xs10:""}},[a("div",{staticClass:"title font-weight-medium secondary--text",attrs:{align:"left"}},[t._v("\n                            Create an Account\n                          ")])])],1)],1),a("v-text-field",{staticClass:"text_field",attrs:{rules:t.nameRules,"prepend-icon":"person",name:"username",label:"First Name",required:""},model:{value:t.userData.first_name,callback:function(e){t.$set(t.userData,"first_name",e)},expression:"userData.first_name"}}),a("v-text-field",{staticClass:"text_field",attrs:{rules:t.nameRules,"prepend-icon":"person",name:"username",label:"Last Name",required:""},model:{value:t.userData.last_name,callback:function(e){t.$set(t.userData,"last_name",e)},expression:"userData.last_name"}}),a("v-text-field",{staticClass:"text_field",attrs:{rules:t.nameRules,"prepend-icon":"phone",name:"username",label:"Phone Number",required:""},model:{value:t.userData.phone_no,callback:function(e){t.$set(t.userData,"phone_no",e)},expression:"userData.phone_no"}}),a("v-text-field",{attrs:{rules:t.emailRules,"prepend-icon":"person",name:"username",label:"E-mail",required:""},model:{value:t.userData.email,callback:function(e){t.$set(t.userData,"email",e)},expression:"userData.email"}}),a("v-text-field",{attrs:{"prepend-icon":"lock",rules:t.passwordRules,name:"password",label:"Password",type:"password"},model:{value:t.userData.password,callback:function(e){t.$set(t.userData,"password",e)},expression:"userData.password"}}),a("v-text-field",{attrs:{"prepend-icon":"lock",rules:t.passwordRules,name:"password",label:"Confirm Password",type:"password"},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}})],1),a("v-card-actions",[a("v-btn",{staticClass:"mb-5 text-none",attrs:{depressed:"",block:"",large:"",color:"primary",round:"",disabled:!t.valid,loading:t.loading},on:{click:t.create}},[t._v("\n                            Register\n                            "),a("v-icon",{attrs:{right:""}},[t._v("how_to_reg")])],1)],1)],1)],1):t._e()],1)],1)],1)],1)],1)],1)],1)},xt=[],bt={name:"AuthPopUp",components:{Loading:ht},data:function(){return{level1:!0,level2:!1,snackbar:!1,loading:!1,valid:!0,confirmPassword:"",password:"",message:"",color:"",passwordRules:[function(t){return!!t||"Password is required"}],username:"",emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}],passwordConfirmRules:[function(t){return!!t||"Password Confirm is required"}],nameRules:[function(t){return!!t||"Name is required"}],userData:{first_name:"",password:"",email:"",last_name:"",phone_no:""}}},methods:Object(c["a"])({},Object(p["b"])(["changeLoginCardState"]),{reset:function(){this.$refs.regForm.reset()},login:function(){var t=this;if(console.log(this.$store),this.$refs.form.validate()){this.loading=!0;var e=this.username,a=this.password;this.$store.dispatch(d,{username:e,password:a}).then((function(e){t.$store.dispatch("changeLoginCardState"),t.loading=!1})).catch((function(e){t.snackbar=!0,t.message="Email/Password wrong or Account is not activated",t.color="error",t.loading=!1}))}},createAccount:function(){this.level1=!1,this.level2=!0},goBack:function(){this.level1=!0,this.level2=!1},create:function(){var t=this;this.$refs.regForm.validate()&&(this.confirmPassword!=this.userData.password?(this.snackbar=!0,this.color="error",this.message="Passwords do not match!"):(this.loading=!0,k({url:"/api/create-accout",data:this.userData,method:"POST"}).then((function(e){t.loading=!1,t.snackbar=!0,t.color="success",t.message="Account Created. We've sent you an activation link via email",t.$store.dispatch("changeLoginCardState"),t.reset()})).catch((function(e){t.loading=!1,t.message="Email/Phone No. specified is already in use.",t.color="error",t.snackbar=!0}))))}}),computed:Object(c["a"])({},Object(p["c"])(["loginCardState"]),Object(p["d"])({authLoading:function(t){return"loading"===t.auth.status}}))},kt=bt,yt=a("b0af"),wt=a("99d9"),Ct=a("12b2"),Dt=a("169a"),It=a("4bd4"),qt=a("adda"),Pt=a("2677"),Vt=Object(C["a"])(kt,_t,xt,!1,null,null,null),Rt=Vt.exports;I()(Vt,{VBtn:V["a"],VCard:yt["a"],VCardActions:wt["a"],VCardText:wt["b"],VCardTitle:Ct["a"],VDialog:Dt["a"],VFlex:T["a"],VForm:It["a"],VIcon:S["a"],VImg:qt["a"],VLayout:O["a"],VSnackbar:M["a"],VSpacer:z["a"],VTextField:Pt["a"],VToolbar:H["a"]}),i["a"].use(dt["a"]);var Tt={name:"Login",components:{Loading:ht,AuthPopUp:Rt},data:function(){return{color:"",snackbar:!1,loading:!1,valid:!0,message:"",password:"",passwordRules:[function(t){return!!t||"Password is required"}],username:"",emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}]}},methods:{reset:function(){this.$refs.form.reset()},login:function(){var t=this;if(console.log(this.$store),this.$refs.form.validate()){this.loading=!0;var e=this.username,a=this.password;this.$store.dispatch(d,{username:e,password:a}).then((function(e){t.$router.push("/")})).catch((function(e){t.message="Email/Password wrong or Account is not activated",t.color="error",t.snackbar=!0,t.loading=!1}))}}},computed:Object(c["a"])({},Object(p["d"])({authLoading:function(t){return"loading"===t.auth.status}}))},St=Tt,Ot=Object(C["a"])(St,lt,ct,!1,null,null,null),Et=Ot.exports;I()(Ot,{VBtn:V["a"],VCard:yt["a"],VCardActions:wt["a"],VCardText:wt["b"],VFlex:T["a"],VForm:It["a"],VLayout:O["a"],VSnackbar:M["a"],VTextField:Pt["a"]});var $t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"login_div"}},[a("v-snackbar",{attrs:{timeout:4e3,top:"",color:t.snackbarColor},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[a("span",[t._v(t._s(t.message))]),a("v-btn",{attrs:{flat:"",color:"white"},on:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1),a("v-layout",{staticClass:"mt-5",attrs:{row:"","justify-center":""}},[a("v-card",{staticClass:"elevation-0 mt-5"},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",{staticClass:"black--text darken-1 display-2 font-weight-black mb-3",staticStyle:{"font-family":"Arial, Helvetica, sans-serif"}},[t._v("Reset Password")])]),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{rules:t.emailRules,"prepend-icon":"person",name:"username",label:"E-mail",required:""},model:{value:t.data.email,callback:function(e){t.$set(t.data,"email",e)},expression:"data.email"}})],1)],1)],1)],1),a("v-card-actions",{staticClass:"mb-5"},[a("v-layout",{staticClass:"ma-1",attrs:{column:""}},[a("v-flex",{staticClass:"mb-5",attrs:{xs12:""}},[a("v-btn",{attrs:{depressed:"",round:"",block:"",color:"primary",disabled:!t.valid,loading:t.loading},on:{click:t.reset}},[t._v("\n              Reset\n            ")])],1)],1)],1)],1)],1),a("AuthPopUp",{model:{value:t.loginCardState,callback:function(e){t.loginCardState=e},expression:"loginCardState"}})],1)},jt=[],Ut={components:{AuthPopUp:Rt},name:"ResetPass",data:function(){return{snackbar:!1,snackbarColor:"",loading:!1,valid:!0,message:"",data:{email:""},emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}]}},methods:{reset:function(){var t=this;this.$refs.form.validate()&&(this.loading=!0,k({url:"/api/password/create",data:this.data,method:"POST"}).then((function(e){t.message="Email with Instructions Sent Successfully",t.snackbarColor="success",t.loading=!1,t.snackbar=!0,t.resetLoader=!1})).catch((function(e){t.message="Someting Went Wrong",t.snackbarColor="error",t.loading=!1,t.snackbar=!0,t.resetLoader=!1})))}},computed:{}},Lt=Ut,At=Object(C["a"])(Lt,$t,jt,!1,null,null,null),Ft=At.exports;I()(At,{VBtn:V["a"],VCard:yt["a"],VCardActions:wt["a"],VCardText:wt["b"],VCardTitle:Ct["a"],VFlex:T["a"],VForm:It["a"],VLayout:O["a"],VSnackbar:M["a"],VTextField:Pt["a"]});var Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"secondary"},[a("v-snackbar",{attrs:{timeout:4e3,top:"",color:t.color},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[a("span",[t._v(t._s(t.message))])]),a("v-img",{attrs:{src:"stethoscope.jpg",height:"100%;",width:"1;"}},[a("v-toolbar",{attrs:{app:"",color:"secondary",flat:""}},[a("v-btn",{attrs:{small:"",fab:"",flat:"",to:"login"}},[a("v-icon",{staticClass:"white--text"},[t._v("\n\t\t\t\tarrow_back\n\t\t\t")])],1),a("v-toolbar-title",{staticClass:"text-uppercase white--text"},[a("span",{staticClass:"white--text text-none"},[t._v("Create an Account")])])],1),a("v-container",{staticClass:"mb-5"},[a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-card",{staticClass:"elevation-0",attrs:{color:"white","max-width":"500"}},[t.authLoading?a("Loading"):t._e(),a("v-layout",{attrs:{column:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{attrs:{align:"center"}},[a("v-img",{attrs:{src:"logo.png","aspect-ratio":"1","max-width":"200"}})],1)])],1),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-layout",{staticClass:"ma-2",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{staticClass:"text_field_2 mt-4",attrs:{rules:t.nameRules,"prepend-inner-icon":"person",name:"fname",label:"First Name",required:"",outline:""},model:{value:t.userData.fname,callback:function(e){t.$set(t.userData,"fname",e)},expression:"userData.fname"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{staticClass:"text_field_2 mt-4",attrs:{rules:t.nameRules,"prepend-inner-icon":"person",name:"lname",label:"Last Name",required:"",outline:""},model:{value:t.userData.lname,callback:function(e){t.$set(t.userData,"lname",e)},expression:"userData.lname"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{staticClass:"text_field_2 mt-4",attrs:{rules:t.emailRules,"prepend-inner-icon":"mail",name:"email",label:"Email Address",required:"",outline:""},model:{value:t.userData.email,callback:function(e){t.$set(t.userData,"email",e)},expression:"userData.email"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{staticClass:"text_field_2 mt-4",attrs:{rules:t.phoneRules,"prepend-inner-icon":"local_phone",name:"phone",label:"Phone No.",required:"",outline:""},model:{value:t.userData.phone_no,callback:function(e){t.$set(t.userData,"phone_no",e)},expression:"userData.phone_no"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-select",{staticClass:"text_field_2 mt-4",attrs:{rules:t.accountTypeRules,items:t.allRoles,"item-value":"id","item-text":"name","prepend-inner-icon":"how_to_reg",name:"accountType",label:"Account Type",required:"",outline:""},model:{value:t.userData.account_type,callback:function(e){t.$set(t.userData,"account_type",e)},expression:"userData.account_type"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{staticClass:"text_field_2 mt-4",attrs:{"prepend-inner-icon":"lock",rules:t.passwordRules,name:"password",label:"Password",type:"password",outline:""},model:{value:t.userData.password,callback:function(e){t.$set(t.userData,"password",e)},expression:"userData.password"}})],1),a("v-flex",{staticClass:"mb-5",attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{staticClass:"text_field_2 mt-4",attrs:{"prepend-inner-icon":"lock",rules:t.passwordConfirmRules,name:"password",label:"Confirm Password",type:"password",outline:""},model:{value:t.confirmpassword,callback:function(e){t.confirmpassword=e},expression:"confirmpassword"}})],1)],1)],1),a("v-card-actions",[a("v-btn",{staticClass:"primary text-none my-3",staticStyle:{opacity:"0.8","box-shadow":"-3px 3px 17px 6px rgba(0,0,0,0.75)"},attrs:{large:"",block:"",block:"",disabled:!t.valid,loading:t.loading},on:{click:t.create}},[t._v("\n\t\t\t\t\t\t\t\t\tRegister\n\t\t\t\t\t\t\t\t")])],1)],1)],1)],1)],1)],1)],1)},zt=[];i["a"].use(dt["a"]);var Ht={name:"Register",components:{Loading:ht},data:function(){return{snackbar:!1,message:"",color:"",loading:!1,valid:!0,confirmpassword:"",passwordConfirmRules:[function(t){return!!t||"Password Confirm is required"}],nameRules:[function(t){return!!t||"Name is required"}],phoneRules:[function(t){return!!t||"Phone Number is required"}],accountTypeRules:[function(t){return!!t||"Account Type is required"}],passwordRules:[function(t){return!!t||"Password is required"}],emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}],userData:{fname:"",lname:"",password:"",account_type:"",email:"",phone_no:""}}},created:function(){this.fetchRoles()},methods:Object(c["a"])({},Object(p["b"])(["fetchRoles"]),{reset:function(){this.$refs.form.reset()},create:function(){var t=this;this.$refs.form.validate()&&(this.confirmpassword!=this.userData.password?(this.message="Passwords do not match",this.snackbar=!0,this.color="error"):(this.loading=!0,k({url:"/api/register",data:this.userData,method:"POST"}).then((function(e){t.message="Account Created. We've sent you an activation link via email.",t.loading=!1,t.color="success",t.snackbar=!0})).catch((function(e){t.loading=!1,t.message="Email/Phone No. already registered",t.color="error",t.snackbar=!0}))))}}),computed:Object(c["a"])({},Object(p["c"])(["allRoles"]),Object(p["d"])({authLoading:function(t){return"loading"===t.auth.status}}))},Nt=Ht,Wt=a("a523"),Gt=a("b56d"),Bt=Object(C["a"])(Nt,Mt,zt,!1,null,null,null),Qt=Bt.exports;I()(Bt,{VBtn:V["a"],VCard:yt["a"],VCardActions:wt["a"],VCardText:wt["b"],VContainer:Wt["a"],VFlex:T["a"],VForm:It["a"],VIcon:S["a"],VImg:qt["a"],VLayout:O["a"],VSelect:Gt["a"],VSnackbar:M["a"],VTextField:Pt["a"],VToolbar:H["a"],VToolbarTitle:N["b"]});var Yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard"},[a("v-snackbar",{attrs:{timeout:4e3,top:"",color:t.color},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[a("span",[t._v(t._s(t.message))])]),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.filterDialog,callback:function(e){t.filterDialog=e},expression:"filterDialog"}},[a("v-card",{attrs:{color:"secondary",dark:""}},[a("v-card-text",[t._v("\n          Applying Filter\n          "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition",scrollable:""},model:{value:t.requestDialog,callback:function(e){t.requestDialog=e},expression:"requestDialog"}},[a("v-card",[a("v-toolbar",{staticClass:"secondary",attrs:{flat:"",dark:""}},["Time"!=t.progress&&"Category"!=t.progress&&"Worker List"!=t.progress&&"Profile"!=t.progress?a("v-btn",{attrs:{flat:"",icon:"",dark:"",color:"secondary"}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("keyboard_backspace")])],1):t._e(),"Time"==t.progress?a("v-btn",{attrs:{icon:"",dark:""},on:{click:t.showMap}},[a("v-icon",[t._v("keyboard_backspace")])],1):t._e(),"Category"==t.progress?a("v-btn",{attrs:{icon:"",dark:""},on:{click:t.showClock}},[a("v-icon",[t._v("keyboard_backspace")])],1):t._e(),"Worker List"==t.progress?a("v-btn",{attrs:{icon:"",dark:""},on:{click:t.showCategories}},[a("v-icon",[t._v("keyboard_backspace")])],1):t._e(),"Profile"==t.progress?a("v-btn",{attrs:{icon:"",dark:""},on:{click:t.showWorkerList}},[a("v-icon",[t._v("keyboard_backspace")])],1):t._e(),a("v-toolbar-title",[t._v("New Request")]),a("v-spacer"),a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.requestDialog=!1}}},[a("v-icon",[t._v("close")])],1)],1),a("v-card-text",[1==t.requestDialog?a("v-progress-linear",{attrs:{value:t.progressBar}}):t._e(),"Location"==t.progress?a("div",[a("v-layout",{attrs:{column:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-map",{ref:"myMapRef",staticStyle:{position:"absolute",width:"92%",height:"85%","z-index":"2"},attrs:{center:[t.latitude,t.longitude],zoom:15}},[a("v-icondefault",{staticClass:"mt-5"}),a("v-tilelayer",{attrs:{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"}}),a("v-marker",{ref:"myMarker",attrs:{"lat-lng":[t.latitude,t.longitude],icon:t.icon,draggable:!0}},[a("v-popup",{attrs:{content:"Me"}})],1),a("v-btn",{staticClass:"primary white--text text-none",staticStyle:{position:"absolute","z-index":"500",bottom:"5%"},attrs:{large:""},on:{click:t.newPos}},[t._v("Next")])],1)],1)],1)],1):t._e(),"Time"==t.progress?a("div",[a("v-layout",{attrs:{"justify-center":"",row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm4:""}},[a("p",{staticClass:"headline"},[t._v("Pick Time")]),"Time"==t.progress?a("div",[a("v-menu",{ref:"menu11",attrs:{"close-on-content-click":!1,"return-value":t.requestData.from,transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(e){return t.$set(t.requestData,"from",e)},"update:return-value":function(e){return t.$set(t.requestData,"from",e)}},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Start Time","prepend-inner-icon":"access_time",readonly:"",outline:""},model:{value:t.requestData.from,callback:function(e){t.$set(t.requestData,"from",e)},expression:"requestData.from"}},i))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[t.menu1?a("v-time-picker",{attrs:{"allowed-minutes":t.allowedStep,"full-width":"",color:"blue",format:"24hr",min:t.now},on:{"click:minute":function(e){return t.$refs.menu11.save(t.requestData.from)}},model:{value:t.requestData.from,callback:function(e){t.$set(t.requestData,"from",e)},expression:"requestData.from"}}):t._e()],1)],1):t._e(),"Time"==t.progress?a("div",[a("v-menu",{ref:"menu12",attrs:{"close-on-content-click":!1,"return-value":t.requestData.to,transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(e){return t.$set(t.requestData,"to",e)},"update:return-value":function(e){return t.$set(t.requestData,"to",e)}},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"End Time","prepend-inner-icon":"access_time",readonly:"",outline:""},model:{value:t.requestData.to,callback:function(e){t.$set(t.requestData,"to",e)},expression:"requestData.to"}},i))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[t.menu2?a("v-time-picker",{attrs:{"allowed-minutes":t.allowedStep,"full-width":"",color:"blue",format:"24hr",min:t.requestData.from},on:{"click:minute":function(e){return t.$refs.menu12.save(t.requestData.to)}},model:{value:t.requestData.to,callback:function(e){t.$set(t.requestData,"to",e)},expression:"requestData.to"}}):t._e()],1)],1):t._e(),a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-btn",{staticClass:"primary white--text text-none",attrs:{block:"",loading:t.loading,large:""},on:{click:t.selectCategory}},[t._v("Next")])],1)],1)],1)],1):t._e(),"Category"==t.progress?a("div",[a("v-layout",{attrs:{"justify-center":"",row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm4:""}},[a("p",{staticClass:"headline"},[t._v("Pick Category")])]),a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{"justify-center":"",row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"mt-2",attrs:{xs5:""}},[a("v-card",{staticClass:"white--text login-circle",attrs:{elevation:"0",color:t.doctorColor},on:{click:function(e){return t.pickCategory(1)}}},[a("v-card-text",[a("div",{staticClass:"mt-3",attrs:{align:"center"}},[a("v-img",{attrs:{src:"doctor.png","aspect-ratio":"0.7"}})],1),a("div",[a("div",{staticClass:"secondary--text title mb-1 mt-2",attrs:{align:"center"}},[t._v("Doctor")])])])],1)],1),a("v-divider",{staticClass:"mx-4",attrs:{vertical:""}}),a("v-flex",{staticClass:"mt-2",attrs:{xs5:""}},[a("v-card",{staticClass:"white--text login-circle",attrs:{elevation:"0",color:t.nurseColor},on:{click:function(e){return t.pickCategory(2)}}},[a("v-card-text",[a("div",{staticClass:"mt-3",attrs:{align:"center"}},[a("v-img",{attrs:{src:"nurse.png","aspect-ratio":"0.7"}})],1),a("div",[a("div",{staticClass:"secondary--text title mb-1 mt-2",attrs:{align:"center"}},[t._v("Nurse")])])])],1)],1),a("v-flex",{staticClass:"mt-2",attrs:{xs5:""}},[a("v-card",{staticClass:"white--text login-circle",attrs:{elevation:"0",color:t.clinicalOfficerColor},on:{click:function(e){return t.pickCategory(3)}}},[a("v-card-text",[a("div",{staticClass:"mt-3",attrs:{align:"center"}},[a("v-img",{attrs:{src:"clinical.png","aspect-ratio":"0.7"}})],1),a("div",[a("div",{staticClass:"secondary--text title mb-1 mt-2",attrs:{align:"center"}},[t._v("Clinical Officer")])])])],1)],1),a("v-divider",{staticClass:"mx-4",attrs:{vertical:""}}),a("v-flex",{staticClass:"mt-2",attrs:{xs5:""}},[a("v-card",{staticClass:"white--text login-circle",attrs:{elevation:"0",color:t.pharmacistColor},on:{click:function(e){return t.pickCategory(4)}}},[a("v-card-text",[a("div",{staticClass:"mt-3",attrs:{align:"center"}},[a("v-img",{attrs:{src:"pharmacist.png","aspect-ratio":"0.7"}})],1),a("div",[a("div",{staticClass:"secondary--text title mb-1 mt-2",attrs:{align:"center"}},[t._v("Pharmacist")])])])],1)],1),a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-btn",{staticClass:"primary white--text text-none",attrs:{loading:t.loading,block:""},on:{click:t.listWorkers}},[t._v("Next")])],1)],1)],1)],1)],1),a("br"),a("br")],1)],1):t._e(),"Worker List"==t.progress?a("div",[a("v-layout",{attrs:{column:""}},[0==t.workers.length?a("div",[t._v("No Results Found")]):t._e(),t._l(t.workers,(function(e,i){return a("v-flex",{key:i,staticClass:"mb-1",attrs:{xs12:""}},[a("v-card",{staticClass:"grey lighten-4 login-circle pa-2",attrs:{elevation:"0"},on:{click:function(e){return t.goToProfile(i)}}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs3:""}},[a("v-avatar",{attrs:{size:"70",color:"grey lighten-4"}},[a("img",{attrs:{src:"https://cdn.vuetifyjs.com/images/profiles/marcus.jpg",alt:"avatar"}})])],1),a("v-flex",{attrs:{xs9:""}},[a("div",[a("b",[t._v(t._s(e.first_name)+" "+t._s(e.last_name))])]),a("div",{staticClass:"grey--text"},[t._v(t._s(e.health_worker_profile.worker_category.name)+" - "+t._s(e.health_worker_profile.worker_sub_category.name))]),a("div",[a("v-rating",{attrs:{value:e.rating,color:"amber",dense:"","half-increments":"",readonly:"",size:"14"}})],1),a("div",{staticClass:"mt-2"},[t._v(t._s(e.health_worker_profile.bio.substring(0,80)+".."))]),a("div",{staticClass:"mt-1"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[t._v("my_location")]),t._v(t._s(e.distance.toFixed(2))+"Km")],1)])],1)],1)],1)})),a("v-flex",{attrs:{xs12:""}},[t.workersLength?a("div",{staticClass:"text-xs-center"},[a("v-pagination",{attrs:{length:t.workersLength,"total-visible":"5",circle:""},on:{input:t.filterResults},model:{value:t.workersPagination.current_page,callback:function(e){t.$set(t.workersPagination,"current_page",e)},expression:"workersPagination.current_page"}})],1):t._e()]),a("v-flex",{attrs:{xs12:""}},[a("v-btn",{staticClass:"primary white--text text-none",attrs:{block:"",depressed:""},on:{click:function(e){t.sheet=!t.sheet}}},[t._v("\n                Filters\n              ")])],1),a("v-bottom-sheet",{model:{value:t.sheet,callback:function(e){t.sheet=e},expression:"sheet"}},[a("v-sheet",{staticClass:"text-center"},[a("div",{staticClass:"pa-2"},[a("v-layout",{attrs:{column:""}},[a("v-flex",{staticClass:"my-1",attrs:{xs12:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs3:""}},[a("div",{staticClass:"grey--text mt-2"},[t._v("Gender")])]),a("v-flex",{attrs:{xs9:""}},[a("v-chip",{attrs:{outline:t.maleOutline,dark:t.darkMale,color:"secondary"},on:{click:function(e){return t.filterGender(1)}}},[t._v("Male")]),a("v-chip",{attrs:{outline:t.femaleOutline,dark:t.darkFemale,color:"secondary"},on:{click:function(e){return t.filterGender(2)}}},[t._v("Female")])],1)],1)],1),a("v-divider",{staticClass:"grey--text"}),a("v-flex",{staticClass:"my-1",attrs:{xs12:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs3:""}},[a("div",{staticClass:"grey--text mt-2"},[t._v("Distance")])]),a("v-flex",{attrs:{xs9:""}},[a("v-chip",{attrs:{outline:t.outline5km,dark:t.dark5km,color:"secondary"},on:{click:function(e){return t.filterDistance(1)}}},[t._v("5Km")]),a("v-chip",{attrs:{outline:t.outline10km,dark:t.dark10km,color:"secondary"},on:{click:function(e){return t.filterDistance(2)}}},[t._v("10km")]),a("v-chip",{attrs:{outline:t.outline15km,dark:t.dark15km,color:"secondary"},on:{click:function(e){return t.filterDistance(3)}}},[t._v("15km")])],1)],1)],1),a("v-divider",{staticClass:"grey--text"}),a("v-flex",{staticClass:"my-1",attrs:{xs12:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs3:""}},[a("div",{staticClass:"grey--text mt-2"},[t._v("Sub Group")])]),a("v-flex",{attrs:{xs9:""}},[t._l(t.subjobs.worker_sub_category,(function(e,i){return[t.subIndex==i?a("v-chip",{attrs:{dark:"",color:"secondary"},on:{click:function(a){return t.filterBySubGroup(e.id,i)}}},[t._v(t._s(e.name))]):a("v-chip",{attrs:{outline:"",color:"secondary"},on:{click:function(a){return t.filterBySubGroup(e.id,i)}}},[t._v(t._s(e.name))])]}))],2)],1)],1),a("v-flex",{attrs:{xs12:""}},[a("v-btn",{staticClass:"primary white--text text-none",attrs:{block:"",depressed:"",loading:t.loading},on:{click:t.resetFilter}},[t._v("\n                        Reset Filters\n                      ")])],1)],1)],1)])],1)],2)],1):t._e(),"Profile"==t.progress?a("div",[a("v-img",{attrs:{height:"150",src:"https://cdn.vuetifyjs.com/images/cards/server-room.jpg"}},[a("v-layout",{attrs:{column:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-avatar",{staticClass:"profile",attrs:{color:"grey",size:"164",tile:""}},[a("v-img",{attrs:{src:"https://cdn.vuetifyjs.com/images/profiles/marcus.jpg"}})],1)],1),a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"ma-2"},[a("div",{staticClass:"title white--text"},[t._v(t._s(t.profile.first_name)+" "+t._s(t.profile.last_name))]),a("div",{staticClass:"white--text"},[t._v(t._s(t.profile.health_worker_profile.worker_category.name)+" - "+t._s(t.profile.health_worker_profile.worker_sub_category.name))])])])],1)],1),a("div",{staticClass:"mt-3"},[t._v(t._s(t.profile.health_worker_profile.bio))]),a("div",{staticClass:"my-4 subtitle-1 black--text"},[t._v("\n            "+t._s(t.profile.health_worker_profile.residence)+"\n          ")]),a("div",[a("v-rating",{attrs:{value:t.profile.rating,color:"amber",dense:"","half-increments":"",readonly:"",size:"14"}})],1),a("div",{staticClass:"grey--text mt-2"},[a("v-icon",{attrs:{small:"",left:""}},[t._v("people")]),t._v(t._s(t.profile.rating.toFixed(1))+"/5 ("+t._s(t.profile.reviewers)+")")],1),a("div",{staticClass:"mt-2"},[a("v-icon",{attrs:{small:"",left:""}},[t._v("my_location")]),t._v(t._s(t.profile.distance.toFixed(2))+"Km away")],1),a("v-divider",{staticClass:"mx-4"}),a("div",{attrs:{align:"center"}},[a("v-btn",{staticClass:"primary white--text text-none mt-2",attrs:{loading:t.loading,depressed:"",text:""},on:{click:t.completeRequest}},[t._v("\n                    Complete\n                    "),a("v-icon",{staticClass:"white--text",attrs:{right:""}},[t._v("\n                        done_all\n                    ")])],1)],1)],1):t._e()],1)],1)],1),a("v-container",{staticClass:"my-2"},[a("v-layout",{attrs:{column:""}},[t.$can("receive_service")?a("div",{staticClass:"mb-2"},[a("v-layout",{attrs:{column:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs6:""}},[a("v-avatar",{staticClass:"profile",attrs:{color:"grey",size:"164",tile:""}},[a("v-img",{attrs:{src:"https://cdn.vuetifyjs.com/images/profiles/marcus.jpg"}})],1)],1),a("v-flex",{attrs:{xs6:""}},[a("v-layout",{attrs:{column:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"grey--text headline",attrs:{align:"center"}},[t._v(t._s(t.stats.first_name)+" "+t._s(t.stats.last_name))])]),a("v-flex",{staticClass:"mt-4",attrs:{xs12:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs6:""}},[a("v-layout",{attrs:{column:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"grey--text title",attrs:{align:"center"}},[t._v("\n                            Visits\n                          ")])]),a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"grey--text",attrs:{align:"center"}},[t._v("\n                            "+t._s(t.stats.totalVisits)+"\n                          ")])])],1)],1),a("v-flex",{attrs:{xs6:""}},[a("v-layout",{attrs:{column:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"grey--text title",attrs:{align:"center"}},[t._v("\n                            Rating\n                          ")])]),a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"grey--text",attrs:{align:"center"}},[t._v("\n                            "+t._s(t.stats.rating.toFixed(1))+"/5\n                          ")])])],1)],1)],1)],1)],1),a("v-divider"),a("div",[1==t.stats.profile.active?a("v-btn",{staticClass:"text-none orange darken-4 white--text",attrs:{depressed:"",block:"",loading:t.offlineLoading},on:{click:t.goOffline}},[t._v("\n                      Go Offline\n                      "),a("v-icon",{attrs:{right:"",small:""}},[t._v("settings_ethernet")])],1):t._e(),0==t.stats.profile.active?a("v-btn",{staticClass:"text-none green darken-1 white--text",attrs:{depressed:"",block:"",loading:t.onlineLoading},on:{click:t.goOnline}},[t._v("\n                      Go Online\n                      "),a("v-icon",{attrs:{right:"",small:""}},[t._v("settings_input_antenna")])],1):t._e()],1)],1)],1)],1)],1)],1):t._e(),a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"mt-3",attrs:{align:"center"}},[a("v-img",{attrs:{src:"home.png","aspect-ratio":"1.9","max-width":"200"}})],1)]),t.$can("individual_request_service")||t.$can("hospital_request_service")?a("div",[a("div",[a("v-flex",{attrs:{xs12:"",md12:""}},[a("div",{staticClass:"mt-3",attrs:{align:"center"}},[a("v-card",{staticClass:"mx-auto text-center",attrs:{color:"primary",dark:"","max-width":"600"}},[a("v-card-text",[a("v-sheet",{attrs:{color:"rgba(0, 0, 0, .12)"}},[a("v-card-text",[a("v-flex",{attrs:{xs5:""}},[a("v-img",{attrs:{src:"pin.png",height:"125px",contain:""}})],1)],1)],1)],1),a("v-divider"),a("v-card-actions",{staticClass:"justify-center"},[a("v-btn",{attrs:{block:"",text:"",color:"secondary"},on:{click:t.newRequest}},[t._v("Request Here")])],1)],1)],1)])],1)]):t._e()],1)],1)],1)},Kt=[],Zt=(a("7514"),a("6b54"),a("5176")),Jt=a.n(Zt),Xt=(a("6cc5"),a("2699")),te=a("a40a"),ee=a("9762"),ae=a("4e2b"),ie=a("f60f"),se=a("e11e"),re=a("ca9f"),ne=a.n(re),oe=a("6397"),le=a.n(oe),ce=a("e2b9"),de=a.n(ce);i["a"].component("v-marker-cluster",ne.a),delete se["Icon"].Default.prototype._getIconUrl,se["Icon"].Default.mergeOptions({iconRetinaUrl:a("584d"),iconUrl:a("6397"),shadowUrl:a("e2b9")});var ue={components:{"v-map":Xt["a"],"v-tilelayer":te["a"],"v-icondefault":ee["a"],"v-marker":ae["a"],"v-popup":ie["a"]},data:function(){var t,e=Object(se["icon"])(Jt()({},se["Icon"].Default.prototype.options,{iconUrl:le.a,shadowUrl:de.a}));return t={filterDialog:!1,offlineLoading:!1,onlineLoading:!1,maleOutline:!0,femaleOutline:!0,darkMale:!1,darkFemale:!1,outline5km:!0,outline10km:!0,outline15km:!0,dark5km:!1,dark10km:!1,dark15km:!1,subIndex:-1,subOutline:!0,requestDialog:!1,menu1:!1,menu2:!1,sheet:!1,color:"",snackbar:!1,message:""},Object(Y["a"])(t,"color",""),Object(Y["a"])(t,"loading",!1),Object(Y["a"])(t,"doctorColor","transparent"),Object(Y["a"])(t,"nurseColor","transparent"),Object(Y["a"])(t,"clinicalOfficerColor","transparent"),Object(Y["a"])(t,"pharmacistColor","transparent"),Object(Y["a"])(t,"progress","Location"),Object(Y["a"])(t,"popupName",null),Object(Y["a"])(t,"icon",e),Object(Y["a"])(t,"clusterOptions",{}),Object(Y["a"])(t,"progressBar",0),Object(Y["a"])(t,"latitude",""),Object(Y["a"])(t,"longitude",""),Object(Y["a"])(t,"location",""),Object(Y["a"])(t,"requestData",{location:{},from:null,to:null,category:null,workerId:null,genderId:null,distance:50,subGroup:null}),Object(Y["a"])(t,"workers",[]),Object(Y["a"])(t,"profile",{}),Object(Y["a"])(t,"workersPagination",{search:" ",current_page:1,per_page:0,total:0,visible:10}),t},created:function(){navigator.geolocation.getCurrentPosition(this.currentPosition),this.initialize()},mounted:function(){},watch:{},methods:Object(c["a"])({},Object(p["b"])(["fetchstats","fetchWorkerCategories","fetchIndividualUpcoming","fetchIndividualHistorical","fetchWorkerUpcoming","fetchWorkerHistorical"]),{allowedStep:function(t){return t%5===0},initialize:function(){this.fetchstats(),this.fetchWorkerCategories(),this.fetchIndividualUpcoming(this.individualUpcomingPagination.current_page),this.fetchIndividualHistorical(this.individualHistoricalPagination.current_page),this.fetchWorkerUpcoming()},goOnline:function(){var t=this,e={type:"online"};this.onlineLoading=!0,k({url:"/api/user/"+this.getProfile.id,data:e,method:"PUT"}).then((function(e){t.stats.profile.active=1,t.onlineLoading=!1,t.fetchstats()})).catch((function(e){t.onlineLoading=!1}))},goOffline:function(){var t=this,e={type:"offline"};this.offlineLoading=!0,k({url:"/api/user/"+this.getProfile.id,data:e,method:"PUT"}).then((function(e){t.stats.profile.active=0,t.offlineLoading=!1,t.fetchstats()})).catch((function(e){t.offlineLoading=!1}))},resetFilter:function(){var t=this;this.maleOutline=!0,this.femaleOutline=!0,this.darkMale=!1,this.darkFemale=!1,this.requestData.genderId=null,this.outline5km=!0,this.outline10km=!0,this.outline15km=!0,this.dark5km=!1,this.dark10km=!1,this.dark15km=!1,this.requestData.distance=50,this.subIndex=-1,this.requestData.subGroup=null,this.loading=!0,k({url:"/api/userRequest?type=filter&page="+this.workersPagination.current_page,data:this.requestData,method:"POST"}).then((function(e){t.loading=!1,t.sheet=!1,t.workers=e.data,t.workersPagination.current_page=e.current_page,t.workersPagination.total=e.total,t.workersPagination.per_page=e.per_page})).catch((function(e){t.loading=!1,t.message="An Error Occured, Please Try Again.",t.color="error",t.snackbar=!0}))},filterGender:function(t){1==t?(this.maleOutline=!1,this.femaleOutline=!0,this.darkMale=!0,this.darkFemale=!1,this.requestData.genderId=1,this.filterResults()):(this.maleOutline=!0,this.femaleOutline=!1,this.darkMale=!1,this.darkFemale=!0,this.requestData.genderId=2,this.filterResults())},filterDistance:function(t){1==t?(this.outline5km=!1,this.outline10km=!0,this.outline15km=!0,this.dark5km=!0,this.dark10km=!1,this.dark15km=!1,this.requestData.distance=5,this.filterResults()):2==t?(this.outline5km=!0,this.outline10km=!1,this.outline15km=!0,this.dark5km=!1,this.dark10km=!0,this.dark15km=!1,this.requestData.distance=10,this.filterResults()):(this.outline5km=!0,this.outline10km=!0,this.outline15km=!1,this.dark5km=!1,this.dark10km=!1,this.dark15km=!0,this.requestData.distance=15,this.filterResults())},filterBySubGroup:function(t,e){this.subIndex=e,this.requestData.subGroup=t,this.filterResults()},currentPosition:function(t){var e=this;e.latitude=t.coords.latitude.toString(),e.longitude=t.coords.longitude.toString(),i["a"].set(this,"longitude",t.coords.longitude.toString()),i["a"].set(this,"latitude",t.coords.latitude.toString());var a={longitude:e.longitude,latitude:e.latitude};console.log(a),k({url:"/api/userDevice",data:a,method:"POST"}).then((function(t){})).catch((function(t){}))},showMap:function(){this.progress="Location",this.progressBar=0},showClock:function(){this.progress="Time",this.progressBar=25},showCategories:function(){this.progress="Category",this.progressBar=50},showWorkerList:function(){this.progress="Worker List",this.progressBar=75},newPos:function(){this.requestData.location=this.$refs.myMarker.mapObject.getLatLng(),this.progress="Time",this.progressBar=25},selectCategory:function(){null==this.requestData.from||null==this.requestData.to?(this.message="Please Pick Start/End Time",this.snackbar=!0,this.color="error"):(this.progress="Category",this.progressBar=50,this.menu1=!1,this.menu2=!1)},listWorkers:function(){var t=this;null==this.requestData.category?(this.message="Please Pick a Category",this.snackbar=!0,this.color="error"):(this.loading=!0,k({url:"/api/userRequest?type=new",data:this.requestData,method:"POST"}).then((function(e){t.loading=!1,t.workers=e.data,t.workersPagination.current_page=e.current_page,t.workersPagination.total=e.total,t.workersPagination.per_page=e.per_page,t.progress="Worker List",t.progressBar=75})).catch((function(e){t.loading=!1,t.message="An Error Occured, Please Try Again.",t.color="error",t.snackbar=!0})))},filterResults:function(){var t=this;this.filterDialog=!0,k({url:"/api/userRequest?type=filter&page="+this.workersPagination.current_page,data:this.requestData,method:"POST"}).then((function(e){t.filterDialog=!1,t.workers=e.data,t.workersPagination.current_page=e.current_page,t.workersPagination.total=e.total,t.workersPagination.per_page=e.per_page})).catch((function(e){t.filterDialog=!1,t.message="An Error Occured, Please Try Again.",t.color="error",t.snackbar=!0}))},goToProfile:function(t){this.progress="Profile",this.progressBar=100,this.profile=this.workers[t],this.requestData.workerId=this.workers[t].id},completeRequest:function(){var t=this;this.loading=!0,k({url:"/api/userRequest?type=complete",data:this.requestData,method:"POST"}).then((function(e){t.loading=!1,t.progress="Location",t.progressBar=0,t.requestDialog=!1,t.message="Request Completed Successfully.",t.color="success",t.snackbar=!0,t.requestData.from=null,t.requestData.to=null,t.requestData.category=null,t.requestData.workerId="",t.clinicalOfficerColor="transparent",t.doctorColor="transparent",t.nurseColor="transparent",t.pharmacistColor="transparent"})).catch((function(e){t.loading=!1,t.message="An Error Occured, Please Try Again.",t.color="error",t.snackbar=!0}))},newRequest:function(){var t=this;this.requestDialog=!0,this.$nextTick((function(){t.$refs.myMapRef.mapObject.invalidateSize()}))},pickCategory:function(t){1==t?1==this.requestData.category?(this.requestData.category=null,this.doctorColor="transparent",this.nurseColor="transparent",this.clinicalOfficerColor="transparent",this.pharmacistColor="transparent"):(this.requestData.category=1,this.doctorColor="primary",this.nurseColor="transparent",this.clinicalOfficerColor="transparent",this.pharmacistColor="transparent"):2==t?2==this.requestData.category?(this.requestData.category=null,this.nurseColor="transparent",this.doctorColor="transparent",this.clinicalOfficerColor="transparent",this.pharmacistColor="transparent"):(this.requestData.category=2,this.nurseColor="primary",this.doctorColor="transparent",this.clinicalOfficerColor="transparent",this.pharmacistColor="transparent"):3==t?3==this.requestData.category?(this.requestData.category=null,this.clinicalOfficerColor="transparent",this.doctorColor="transparent",this.nurseColor="transparent",this.pharmacistColor="transparent"):(this.requestData.category=3,this.clinicalOfficerColor="primary",this.doctorColor="transparent",this.nurseColor="transparent",this.pharmacistColor="transparent"):4==t&&(4==this.requestData.category?(this.requestData.category=null,this.clinicalOfficerColor="transparent",this.doctorColor="transparent",this.nurseColor="transparent",this.pharmacistColor="transparent"):(this.requestData.category=4,this.clinicalOfficerColor="transparent",this.doctorColor="transparent",this.nurseColor="transparent",this.pharmacistColor="primary"))}}),computed:Object(c["a"])({},Object(p["c"])(["getProfile","stats","allWorkerCategories","individualUpcomingPagination","individualHistoricalPagination"]),{now:function(){var t=new Date,e=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds();return e},workersLength:function(){return Math.ceil(this.workersPagination.total/this.workersPagination.per_page)},subjobs:function(){var t=this;return this.$store.getters.allWorkerCategories.find((function(e){return e.id==t.requestData.category}))}})},ve=ue,me=(a("99f1"),a("288c")),pe=a("cc20"),fe=a("891e"),ge=a("1d4d"),he=a("8dd9"),_e=a("c964"),xe=Object(C["a"])(ve,Yt,Kt,!1,null,null,null),be=xe.exports;I()(xe,{VAvatar:q["a"],VBottomSheet:me["a"],VBtn:V["a"],VCard:yt["a"],VCardActions:wt["a"],VCardText:wt["b"],VChip:pe["a"],VContainer:Wt["a"],VDialog:Dt["a"],VDivider:R["a"],VFlex:T["a"],VIcon:S["a"],VImg:qt["a"],VLayout:O["a"],VMenu:A["a"],VPagination:fe["a"],VProgressLinear:ft["a"],VRating:ge["a"],VSheet:he["a"],VSnackbar:M["a"],VSpacer:z["a"],VTextField:Pt["a"],VTimePicker:_e["a"],VToolbar:H["a"],VToolbarTitle:N["b"]});var ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard"},[a("v-snackbar",{attrs:{timeout:4e3,top:"",color:t.color},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[a("span",[t._v(t._s(t.message))])]),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition",scrollable:""},model:{value:t.profileDialog,callback:function(e){t.profileDialog=e},expression:"profileDialog"}},[a("v-card",[a("v-toolbar",{staticClass:"secondary",attrs:{flat:"",dark:""}},[a("v-toolbar-title",[t._v("Request Details")]),a("v-spacer"),a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.profileDialog=!1}}},[a("v-icon",[t._v("close")])],1)],1),a("v-card-text",{staticStyle:{height:"100%",padding:"0px"}},[1==t.profileDialog?a("div",[a("v-img",{attrs:{height:"100%",src:"https://cdn.vuetifyjs.com/images/cards/server-room.jpg"}},[a("v-layout",{attrs:{column:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-avatar",{staticClass:"profile",attrs:{color:"grey",size:"164",tile:""}},[a("v-img",{attrs:{src:"https://cdn.vuetifyjs.com/images/profiles/marcus.jpg"}})],1)],1),a("v-flex",{attrs:{xs12:""}},[t.$can("individual_request_service")?a("div",{staticClass:"ma-2"},[a("div",{staticClass:"title white--text"},[t._v(t._s(t.profile.recipient.first_name)+" "+t._s(t.profile.recipient.last_name))]),a("div",{staticClass:"white--text"},[t._v(t._s(t.profile.recipient.health_worker_profile.worker_category.name)+" - "+t._s(t.profile.recipient.health_worker_profile.worker_sub_category.name))])]):t._e(),t.$can("receive_service")?a("div",{staticClass:"ma-2"},[a("div",{staticClass:"title white--text"},[t._v(t._s(t.profile.requester.first_name)+" "+t._s(t.profile.requester.last_name))])]):t._e()])],1)],1),a("v-container",[t.$can("individual_request_service")?a("div",[t._v(t._s(t.profile.recipient.health_worker_profile.bio))]):t._e(),t.$can("individual_request_service")?a("div",{staticClass:"my-4 subtitle-1 black--text"},[t._v("\n                "+t._s(t.profile.recipient.health_worker_profile.residence)+"\n              ")]):t._e(),t.$can("individual_request_service")?a("div",[a("v-rating",{attrs:{value:t.profile.rating,color:"amber",dense:"","half-increments":"",readonly:"",size:"14"}})],1):t._e(),t.$can("individual_request_service")?a("div",{staticClass:"grey--text"},[a("v-icon",{attrs:{small:"",left:""}},[t._v("people")]),t._v(t._s(t.profile.rating.toFixed(1))+"/5 ("+t._s(t.profile.reviewers)+")")],1):t._e(),t.$can("receive_service")?a("div",[a("v-icon",{attrs:{small:"",left:""}},[t._v("local_phone")]),t._v(t._s(t.profile.requester.phone_no))],1):t._e(),1==t.profile.status_id||2==t.profile.status_id?a("div",[a("v-icon",{attrs:{small:"",left:""}},[t._v("my_location")]),t._v(t._s(t.profile.distance.toFixed(2))+"Km away")],1):t._e(),t.$can("receive_service")&&1==t.profile.status_id?a("div",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs6:""}},[a("v-btn",{staticClass:"green white--text text-none mr-1",attrs:{block:"",depressed:"",loading:t.acceptLoading},on:{click:function(e){return t.acceptRequest(t.profile.id)}}},[t._v("Accept")])],1),a("v-flex",{attrs:{xs6:""}},[a("v-btn",{staticClass:"red white--text text-none ml-1",attrs:{block:"",depressed:"",loading:t.rejectLoading},on:{click:function(e){return t.rejectRequest(t.profile.id)}}},[t._v("Reject")])],1)],1)],1):t._e(),t.$can("receive_service")&&2==t.profile.status_id?a("div",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs6:""}},[a("v-btn",{staticClass:"green white--text text-none mr-1",attrs:{block:"",depressed:"",loading:t.completeLoading},on:{click:function(e){return t.completeRequest(t.profile.id)}}},[t._v("Complete")])],1),a("v-flex",{attrs:{xs6:""}},[a("v-btn",{staticClass:"red white--text text-none ml-1",attrs:{block:"",depressed:"",loading:t.cancelLoading},on:{click:function(e){return t.cancelRequest(t.profile.id)}}},[t._v("Cancel")])],1)],1)],1):t._e(),a("v-divider",{staticClass:"mx-1 my-2"}),3==t.profile.status_id&&t.$can("individual_request_service")&&0==t.profile.isFavourite?a("div",[a("v-btn",{staticClass:"success white--text text-none ml-1",attrs:{block:"",depressed:"",loading:t.favouriteLoading},on:{click:function(e){return t.addToFavourite(t.profile.recipient.id)}}},[t._v("Add to Favourites")])],1):t._e(),1==t.profile.status_id||2==t.profile.status_id?a("div",[t.$can("individual_request_service")?a("v-map",{ref:"myMapRef",staticStyle:{position:"relative",width:"100%",height:"180px","z-index":"2"},attrs:{center:[t.profile.workerLocation[0],t.profile.workerLocation[1]],zoom:15}},[a("v-icondefault",{staticClass:"mt-5"}),a("v-tilelayer",{attrs:{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"}}),a("v-marker",{ref:"myMarker",attrs:{"lat-lng":[t.profile.workerLocation[0],t.profile.workerLocation[1]],icon:t.icon}},[a("v-popup",{attrs:{content:t.profile.recipient.first_name}})],1)],1):t._e(),t.$can("receive_service")?a("v-map",{ref:"myMapRef",staticStyle:{position:"relative",width:"100%",height:"250px","z-index":"2"},attrs:{center:[t.profile.latitude,t.profile.longitude],zoom:15}},[a("v-icondefault",{staticClass:"mt-5"}),a("v-tilelayer",{attrs:{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"}}),a("v-marker",{ref:"myMarker",attrs:{"lat-lng":[t.profile.latitude,t.profile.longitude],icon:t.icon}},[a("v-popup",{attrs:{content:t.profile.requester.first_name}})],1)],1):t._e()],1):t._e(),3==t.profile.status_id&&0==t.profile.hasRated?a("div",[a("div",{staticClass:"my-3",attrs:{align:"center"}},[a("b",[t._v("Review")])]),a("v-layout",{attrs:{column:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs3:""}},[a("div",{staticClass:"grey--text mt-1"},[t._v("Rating")])]),a("v-flex",{attrs:{xs9:""}},[a("v-rating",{attrs:{color:"yellow darken-3",small:""},model:{value:t.review.userRating,callback:function(e){t.$set(t.review,"userRating",e)},expression:"review.userRating"}})],1)],1)],1),a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs3:""}},[a("div",{staticClass:"grey--text"},[t._v("Comment")])]),a("v-flex",{attrs:{xs9:""}},[a("v-layout",{attrs:{column:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-textarea",{staticClass:"mt-1",attrs:{name:"comment",outline:""},model:{value:t.review.userComment,callback:function(e){t.$set(t.review,"userComment",e)},expression:"review.userComment"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-btn",{staticClass:"primary text-none",attrs:{depressed:"",block:"",loading:t.ratingLoader},on:{click:function(e){return t.saveRating(t.profile.recipient.id)}}},[t._v("Save")])],1)],1)],1)],1)],1)],1)],1):t._e()],1)],1):t._e()])],1)],1),a("v-container",[t.$can("individual_request_service")?a("div",[a("v-tabs",{attrs:{color:"transparent",grow:"",dark:"","slider-color":"primary","show-arrows":""}},[t._l(t.tabs,(function(e){return a("v-tab",{key:e.id,attrs:{ripple:""},on:{click:function(a){return t.updateTab(e.id)}}},[a("div",{staticClass:"text-none black--text"},[t._v(t._s(e.name))])])})),t._l(t.tabs,(function(t){return a("v-tab-item",{key:t.id,attrs:{transition:!1,"reverse-transition":!1}})}))],2)],1):t._e(),t.$can("receive_service")?a("div",[a("v-tabs",{attrs:{color:"transparent",grow:"",dark:"","slider-color":"primary","show-arrows":""}},[t._l(t.tabs2,(function(e){return a("v-tab",{key:e.id,attrs:{ripple:""},on:{click:function(a){return t.updateTab(e.id)}}},[a("div",{staticClass:"text-none black--text"},[t._v(t._s(e.name))])])})),t._l(t.tabs,(function(t){return a("v-tab-item",{key:t.id,attrs:{transition:!1,"reverse-transition":!1}})}))],2)],1):t._e(),1==t.activeTab&&t.$can("individual_request_service")?a("div",{staticClass:"mt-2"},[a("v-layout",{attrs:{column:""}},[a("div",{staticClass:"mt-2"},[a("v-icon",{staticClass:"mr-2 orange--text",attrs:{small:""}},[t._v("lens")]),t._v("Pending")],1),a("v-divider",{staticClass:"my-2"}),t._l(t.allIndividualUpcoming,(function(e,i){return[1==e.status_id?a("v-flex",{staticClass:"mb-1",attrs:{xs12:""}},[a("v-card",{staticClass:"grey lighten-4 login-circle pa-2",attrs:{elevation:"0"},on:{click:function(e){return t.goToProfile(i)}}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs3:""}},[a("v-avatar",{attrs:{size:"70",color:"grey lighten-4"}},[a("img",{attrs:{src:"https://cdn.vuetifyjs.com/images/profiles/marcus.jpg",alt:"avatar"}})])],1),a("v-flex",{attrs:{xs9:""}},[a("div",[a("b",[t._v(t._s(e.recipient.first_name)+" "+t._s(e.recipient.last_name))])]),a("div",{staticClass:"grey--text"},[t._v(t._s(e.recipient.health_worker_profile.worker_category.name)+" - "+t._s(e.recipient.health_worker_profile.worker_sub_category.name))]),a("div",[a("v-rating",{attrs:{value:e.rating,color:"amber",dense:"","half-increments":"",readonly:"",size:"14"}})],1),a("div",{staticClass:"mt-2"},[t._v(t._s(e.recipient.health_worker_profile.bio.substring(0,80)+".."))]),a("div",{staticClass:"mt-1"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[t._v("access_time")]),t._v(t._s(e.from)+" - "+t._s(e.to)+" Hrs")],1),a("div",{staticClass:"mt-1"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[t._v("my_location")]),t._v(t._s(e.distance.toFixed(2))+"Km from Destination")],1)])],1)],1)],1):t._e()]})),a("div",{staticClass:"mt-2"},[a("v-icon",{staticClass:"mr-2 green--text",attrs:{small:""}},[t._v("lens")]),t._v("Active")],1),a("v-divider",{staticClass:"my-2"}),t._l(t.allIndividualUpcoming,(function(e,i){return[2==e.status_id?a("v-flex",{staticClass:"mb-1",attrs:{xs12:""}},[a("v-card",{staticClass:"grey lighten-4 login-circle pa-2",attrs:{elevation:"0"},on:{click:function(e){return t.goToProfile(i)}}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs3:""}},[a("v-avatar",{attrs:{size:"70",color:"grey lighten-4"}},[a("img",{attrs:{src:"https://cdn.vuetifyjs.com/images/profiles/marcus.jpg",alt:"avatar"}})])],1),a("v-flex",{attrs:{xs9:""}},[a("div",[a("b",[t._v(t._s(e.recipient.first_name)+" "+t._s(e.recipient.last_name))])]),a("div",{staticClass:"grey--text"},[t._v(t._s(e.recipient.health_worker_profile.worker_category.name)+" - "+t._s(e.recipient.health_worker_profile.worker_sub_category.name))]),a("div",[a("v-rating",{attrs:{value:e.rating,color:"amber",dense:"","half-increments":"",readonly:"",size:"14"}})],1),a("div",{staticClass:"mt-2"},[t._v(t._s(e.recipient.health_worker_profile.bio.substring(0,80)+".."))]),a("div",{staticClass:"mt-1"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[t._v("access_time")]),t._v(t._s(e.from)+" - "+t._s(e.to)+" Hrs")],1),a("div",{staticClass:"mt-1"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[t._v("my_location")]),t._v(t._s(e.distance.toFixed(2))+"Km from Destination")],1)])],1)],1)],1):t._e()]}))],2),t.upcomingLength?a("div",{staticClass:"text-xs-center"},[a("v-pagination",{attrs:{length:t.upcomingLength,"total-visible":"5",circle:""},on:{input:t.nextUpcoming},model:{value:t.individualUpcomingPagination.current_page,callback:function(e){t.$set(t.individualUpcomingPagination,"current_page",e)},expression:"individualUpcomingPagination.current_page"}})],1):t._e()],1):t._e(),1==t.activeTab&&t.$can("receive_service")?a("div",{staticClass:"mt-2"},[a("v-layout",{attrs:{column:""}},[a("div",{staticClass:"mt-2"},[a("v-icon",{staticClass:"mr-2 orange--text",attrs:{small:""}},[t._v("lens")]),t._v("New")],1),a("v-divider",{staticClass:"my-2"}),t._l(t.allWorkerUpcoming,(function(e,i){return[1==e.status_id?a("v-flex",{staticClass:"mb-1",attrs:{xs12:""}},[a("v-card",{staticClass:"grey lighten-4 login-circle pa-2",attrs:{elevation:"0"},on:{click:function(e){return t.goToIndividualProfile(i)}}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs3:""}},[a("v-avatar",{attrs:{size:"70",color:"grey lighten-4"}},[a("img",{attrs:{src:"https://cdn.vuetifyjs.com/images/profiles/marcus.jpg",alt:"avatar"}})])],1),a("v-flex",{attrs:{xs9:""}},[a("div",[a("b",[t._v(t._s(e.requester.first_name)+" "+t._s(e.requester.last_name))])]),a("div",{staticClass:"mt-1"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[t._v("access_time")]),t._v(t._s(e.from)+" - "+t._s(e.to)+" Hrs")],1),a("div",{staticClass:"mt-1"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[t._v("my_location")]),t._v(t._s(e.distance.toFixed(2))+"Km Away")],1)])],1)],1)],1):t._e()]})),a("div",{staticClass:"mt-2"},[a("v-icon",{staticClass:"mr-2 green--text",attrs:{small:""}},[t._v("lens")]),t._v("Active")],1),a("v-divider",{staticClass:"my-2"}),t._l(t.allWorkerUpcoming,(function(e,i){return[2==e.status_id?a("v-flex",{staticClass:"mb-1",attrs:{xs12:""}},[a("v-card",{staticClass:"grey lighten-4 login-circle pa-2",attrs:{elevation:"0"},on:{click:function(e){return t.goToIndividualProfile(i)}}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs3:""}},[a("v-avatar",{attrs:{size:"70",color:"grey lighten-4"}},[a("img",{attrs:{src:"https://cdn.vuetifyjs.com/images/profiles/marcus.jpg",alt:"avatar"}})])],1),a("v-flex",{attrs:{xs9:""}},[a("div",[a("b",[t._v(t._s(e.requester.first_name)+" "+t._s(e.requester.last_name))])]),a("div",{staticClass:"mt-1"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[t._v("access_time")]),t._v(t._s(e.from)+" - "+t._s(e.to)+" Hrs")],1),a("div",{staticClass:"mt-1"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[t._v("my_location")]),t._v(t._s(e.distance.toFixed(2))+"Km from Destination")],1)])],1)],1)],1):t._e()]}))],2),t.workerUpcomingLength?a("div",{staticClass:"text-xs-center"},[a("v-pagination",{attrs:{length:t.workerUpcomingLength,"total-visible":"5",circle:""},on:{input:t.nextWorkerUpcoming},model:{value:t.workerUpcomingPagination.current_page,callback:function(e){t.$set(t.workerUpcomingPagination,"current_page",e)},expression:"workerUpcomingPagination.current_page"}})],1):t._e()],1):t._e(),2==t.activeTab&&t.$can("individual_request_service")?a("div",{staticClass:"mt-2"},[a("v-layout",{attrs:{column:""}},[t._l(t.allIndividualHistorical,(function(e,i){return[a("v-flex",{staticClass:"mb-1",attrs:{xs12:""}},[a("v-card",{staticClass:"grey lighten-4 login-circle pa-2",attrs:{elevation:"0"},on:{click:function(e){return t.goToHProfile(i)}}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs3:""}},[a("v-avatar",{attrs:{size:"70",color:"grey lighten-4"}},[a("img",{attrs:{src:"https://cdn.vuetifyjs.com/images/profiles/marcus.jpg",alt:"avatar"}})])],1),a("v-flex",{attrs:{xs9:""}},[a("div",[a("b",[t._v(t._s(e.recipient.first_name)+" "+t._s(e.recipient.last_name))])]),a("div",{staticClass:"grey--text"},[t._v(t._s(e.recipient.health_worker_profile.worker_category.name)+" - "+t._s(e.recipient.health_worker_profile.worker_sub_category.name))]),a("div",[a("v-rating",{attrs:{value:e.rating,color:"amber",dense:"","half-increments":"",readonly:"",size:"14"}})],1),a("div",{staticClass:"mt-1"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[t._v("calendar_today")]),t._v(t._s(t.formattedDate(e.created_at)))],1),a("div",{staticClass:"mt-1"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[t._v("access_time")]),t._v(t._s(e.from)+" - "+t._s(e.to)+" Hrs")],1)])],1)],1)],1)]}))],2),t.historicalLength?a("div",{staticClass:"text-xs-center"},[a("v-pagination",{attrs:{length:t.historicalLength,"total-visible":"5",circle:""},on:{input:t.nextHistorical},model:{value:t.individualHistoricalPagination.current_page,callback:function(e){t.$set(t.individualHistoricalPagination,"current_page",e)},expression:"individualHistoricalPagination.current_page"}})],1):t._e()],1):t._e(),2==t.activeTab&&t.$can("receive_service")?a("div",{staticClass:"mt-2"},[a("v-layout",{attrs:{column:""}},[t._l(t.allWorkerHistorical,(function(e,i){return[a("v-flex",{staticClass:"mb-1",attrs:{xs12:""}},[a("v-card",{staticClass:"grey lighten-4 login-circle pa-2",attrs:{elevation:"0"},on:{click:function(t){}}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs3:""}},[a("v-avatar",{attrs:{size:"70",color:"grey lighten-4"}},[a("img",{attrs:{src:"https://cdn.vuetifyjs.com/images/profiles/marcus.jpg",alt:"avatar"}})])],1),a("v-flex",{attrs:{xs9:""}},[a("div",[a("b",[t._v(t._s(e.requester.first_name)+" "+t._s(e.requester.last_name))])]),a("div",{staticClass:"mt-1"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[t._v("calendar_today")]),t._v(t._s(t.formattedDate(e.created_at)))],1),a("div",{staticClass:"mt-1"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[t._v("access_time")]),t._v(t._s(e.from)+" - "+t._s(e.to)+" Hrs")],1)])],1)],1)],1)]}))],2),t.workerHistoricalLength?a("div",{staticClass:"text-xs-center"},[a("v-pagination",{attrs:{length:t.workerHistoricalLength,"total-visible":"5",circle:""},on:{input:t.nextWorkerHistorical},model:{value:t.workerHistoricalPagination.current_page,callback:function(e){t.$set(t.workerHistoricalPagination,"current_page",e)},expression:"workerHistoricalPagination.current_page"}})],1):t._e()],1):t._e()])],1)},ye=[],we=a("70f2"),Ce=a.n(we);delete se["Icon"].Default.prototype._getIconUrl,se["Icon"].Default.mergeOptions({iconRetinaUrl:a("584d"),iconUrl:a("6397"),shadowUrl:a("e2b9")});var De={components:{"v-map":Xt["a"],"v-tilelayer":te["a"],"v-icondefault":ee["a"],"v-marker":ae["a"],"v-popup":ie["a"]},data:function(){var t=Object(se["icon"])(Jt()({},se["Icon"].Default.prototype.options,{iconUrl:le.a,shadowUrl:de.a}));return{snackbar:!1,message:"",color:"",loading:!1,review:{userRating:null,userComment:null},acceptLoading:!1,rejectLoading:!1,completeLoading:!1,cancelLoading:!1,ratingLoader:!1,favouriteLoading:!1,profileDialog:!1,activeTab:1,tabs:[{id:1,name:"Pending/Active"},{id:2,name:"Historical"}],tabs2:[{id:1,name:"New/Active"},{id:2,name:"Historical"}],profile:{},popupName:null,icon:t,clusterOptions:{},profileIndex:null}},created:function(){this.initialize()},methods:Object(c["a"])({},Object(p["b"])(["fetchIndividualUpcoming","fetchIndividualHistorical","fetchWorkerUpcoming","fetchWorkerHistorical"]),{initialize:function(){this.fetchIndividualUpcoming(this.individualUpcomingPagination.current_page),this.fetchIndividualHistorical(this.individualHistoricalPagination.current_page),this.fetchWorkerUpcoming(this.workerUpcomingPagination.current_page),this.fetchWorkerHistorical(this.workerHistoricalPagination.current_page)},goToProfile:function(t){this.profile=this.allIndividualUpcoming[t],this.profileDialog=!0},goToHProfile:function(t){this.profileIndex=t,this.profile=this.allIndividualHistorical[t],this.profileDialog=!0},goToIndividualProfile:function(t){this.profile=this.allWorkerUpcoming[t],this.profileDialog=!0},updateTab:function(t){this.activeTab=1==t?1:2},nextUpcoming:function(){this.fetchIndividualUpcoming(this.individualUpcomingPagination.current_page)},nextHistorical:function(){this.fetchIndividualHistorical(this.individualHistoricalPagination.current_page)},nextWorkerHistorical:function(){this.fetchWorkerHistorical(this.workerHistoricalPagination.current_page)},nextWorkerUpcoming:function(){this.fetchWorkerUpcoming(this.workerUpcomingPagination.current_page)},addToFavourite:function(t){var e=this,a={workerId:t};this.favouriteLoading=!0,k({url:"/api/userFavourite",data:a,method:"POST"}).then((function(t){e.profile.isFavourite=1,e.message="Added to Favourites Successfully",e.color="success",e.snackbar=!0,e.favouriteLoading=!1,e.fetchIndividualHistorical(e.individualHistoricalPagination.current_page),e.fetchIndividualUpcoming(e.individualUpcomingPagination.current_page)})).catch((function(t){e.favouriteLoading=!1}))},saveRating:function(t){var e=this;this.review.workerId=t,null==this.review.userRating?(this.message="Please add a Rating",this.color="error",this.snackbar=!0):(this.ratingLoader=!0,k({url:"/api/userRating",data:this.review,method:"POST"}).then((function(t){e.profile.hasRated=1,e.message="Review added Successfully",e.color="success",e.snackbar=!0,e.ratingLoader=!1,e.fetchIndividualHistorical(e.individualHistoricalPagination.current_page),setTimeout((function(){e.profile=e.allIndividualHistorical[e.profileIndex],e.fetchIndividualUpcoming(e.individualUpcomingPagination.current_page)}),2e3)})).catch((function(t){e.ratingLoader=!1})))},completeRequest:function(t){var e=this;this.completeLoading=!0;var a={type:"complete"};k({url:"/api/userRequest/"+t,data:a,method:"PUT"}).then((function(t){e.completeLoading=!1,e.profileDialog=!1,e.fetchWorkerUpcoming(e.workerUpcomingPagination.current_page)})).catch((function(t){e.completeLoading=!1}))},cancelRequest:function(t){var e=this;this.cancelLoading=!0;var a={type:"cancel"};k({url:"/api/userRequest/"+t,data:a,method:"PUT"}).then((function(t){e.cancelLoading=!1,e.profileDialog=!1,e.fetchWorkerUpcoming(e.workerUpcomingPagination.current_page),e.fetchWorkerHistorical(e.workerHistoricalPagination.current_page)})).catch((function(t){e.cancelLoading=!1}))},acceptRequest:function(t){var e=this;this.acceptLoading=!0;var a={type:"accept"};k({url:"/api/userRequest/"+t,data:a,method:"PUT"}).then((function(t){e.acceptLoading=!1,e.profileDialog=!1,e.fetchWorkerUpcoming(e.workerUpcomingPagination.current_page)})).catch((function(t){e.acceptLoading=!1}))},rejectRequest:function(t){var e=this;this.rejectLoading=!0;var a={type:"reject"};k({url:"/api/userRequest/"+t,data:a,method:"PUT"}).then((function(t){e.rejectLoading=!1,e.profileDialog=!1,e.fetchWorkerUpcoming(e.workerUpcomingPagination.current_page)})).catch((function(t){e.rejectLoading=!1}))},formattedDate:function(t){return t?Ce()(t,"Do MMM YYYY"):""}}),computed:Object(c["a"])({},Object(p["c"])(["allIndividualUpcoming","allIndividualHistorical","allWorkerUpcoming","allWorkerHistorical","individualHistoricalPagination","individualUpcomingPagination","workerUpcomingPagination","workerHistoricalPagination"]),{upcomingLength:function(){return Math.ceil(this.individualUpcomingPagination.total/this.individualUpcomingPagination.per_page)},historicalLength:function(){return Math.ceil(this.individualHistoricalPagination.total/this.individualHistoricalPagination.per_page)},workerUpcomingLength:function(){return Math.ceil(this.workerUpcomingPagination.total/this.workerUpcomingPagination.per_page)},workerHistoricalLength:function(){return Math.ceil(this.workerHistoricalPagination.total/this.workerHistoricalPagination.per_page)}})},Ie=De,qe=(a("146b"),a("71a3")),Pe=a("c671"),Ve=a("fe57"),Re=a("a844"),Te=Object(C["a"])(Ie,ke,ye,!1,null,null,null),Se=Te.exports;I()(Te,{VAvatar:q["a"],VBtn:V["a"],VCard:yt["a"],VCardText:wt["b"],VContainer:Wt["a"],VDialog:Dt["a"],VDivider:R["a"],VFlex:T["a"],VIcon:S["a"],VImg:qt["a"],VLayout:O["a"],VPagination:fe["a"],VRating:ge["a"],VSnackbar:M["a"],VSpacer:z["a"],VTab:qe["a"],VTabItem:Pe["a"],VTabs:Ve["a"],VTextarea:Re["a"],VToolbar:H["a"],VToolbarTitle:N["b"]});var Oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard"},[a("v-snackbar",{attrs:{timeout:4e3,top:"",color:t.color},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[a("span",[t._v(t._s(t.message))])]),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition",scrollable:""},model:{value:t.profileDialog,callback:function(e){t.profileDialog=e},expression:"profileDialog"}},[a("v-card",[a("v-toolbar",{staticClass:"secondary",attrs:{flat:"",dark:""}},[t.profileDialog?a("v-toolbar-title",[t._v(t._s(t.profile.worker.first_name)+" "+t._s(t.profile.worker.last_name))]):t._e(),a("v-spacer"),a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.profileDialog=!1}}},[a("v-icon",[t._v("close")])],1)],1),a("v-card-text",{staticStyle:{height:"100%",padding:"0px"}},[1==t.profileDialog?a("div",[a("v-img",{attrs:{height:"100%",src:"https://cdn.vuetifyjs.com/images/cards/server-room.jpg"}},[a("v-layout",{attrs:{column:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-avatar",{staticClass:"profile",attrs:{color:"grey",size:"164",tile:""}},[a("v-img",{attrs:{src:"https://cdn.vuetifyjs.com/images/profiles/marcus.jpg"}})],1)],1),a("v-flex",{attrs:{xs12:""}},[t.$can("individual_request_service")?a("div",{staticClass:"ma-2"},[a("div",{staticClass:"title white--text"},[t._v(t._s(t.profile.worker.first_name)+" "+t._s(t.profile.worker.last_name))]),a("div",{staticClass:"white--text"},[t._v(t._s(t.profile.worker.health_worker_profile.worker_category.name)+" - "+t._s(t.profile.worker.health_worker_profile.worker_sub_category.name))])]):t._e()])],1)],1),a("v-container",[t.$can("individual_request_service")?a("div",[t._v(t._s(t.profile.worker.health_worker_profile.bio))]):t._e(),t.$can("individual_request_service")?a("div",{staticClass:"my-4 subtitle-1 black--text"},[t._v("\n                "+t._s(t.profile.worker.health_worker_profile.residence)+"\n              ")]):t._e(),t.$can("individual_request_service")?a("div",[a("v-rating",{attrs:{value:t.profile.rating,color:"amber",dense:"","half-increments":"",readonly:"",size:"14"}})],1):t._e(),t.$can("individual_request_service")?a("div",{staticClass:"grey--text"},[a("v-icon",{attrs:{small:"",left:""}},[t._v("people")]),t._v(t._s(t.profile.rating.toFixed(1))+"/5 ("+t._s(t.profile.reviewers)+")")],1):t._e(),a("div",[a("v-icon",{attrs:{small:"",left:""}},[t._v("my_location")]),t._v(t._s(t.profile.distance.toFixed(2))+"Km away")],1),a("v-divider",{staticClass:"mx-1 my-2"}),a("div",{staticClass:"my-2"},[a("b",[t._v("Quick Request")])]),1==t.profile.worker.health_worker_profile.active?a("div",[a("v-layout",{attrs:{column:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-menu",{ref:"menu11",attrs:{"close-on-content-click":!1,"return-value":t.requestData.from,transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(e){return t.$set(t.requestData,"from",e)},"update:return-value":function(e){return t.$set(t.requestData,"from",e)}},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Start Time","prepend-inner-icon":"access_time",readonly:"",outline:""},model:{value:t.requestData.from,callback:function(e){t.$set(t.requestData,"from",e)},expression:"requestData.from"}},i))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[t.menu1?a("v-time-picker",{attrs:{"allowed-minutes":t.allowedStep,"full-width":"",color:"blue",format:"24hr",min:t.now},on:{"click:minute":function(e){return t.$refs.menu11.save(t.requestData.from)}},model:{value:t.requestData.from,callback:function(e){t.$set(t.requestData,"from",e)},expression:"requestData.from"}}):t._e()],1)],1),a("v-flex",{attrs:{xs12:""}},[a("v-menu",{ref:"menu12",attrs:{"close-on-content-click":!1,"return-value":t.requestData.to,transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(e){return t.$set(t.requestData,"to",e)},"update:return-value":function(e){return t.$set(t.requestData,"to",e)}},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"End Time","prepend-inner-icon":"access_time",readonly:"",outline:""},model:{value:t.requestData.to,callback:function(e){t.$set(t.requestData,"to",e)},expression:"requestData.to"}},i))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[t.menu2?a("v-time-picker",{attrs:{"allowed-minutes":t.allowedStep,"full-width":"",color:"blue",format:"24hr",min:t.requestData.from},on:{"click:minute":function(e){return t.$refs.menu12.save(t.requestData.to)}},model:{value:t.requestData.to,callback:function(e){t.$set(t.requestData,"to",e)},expression:"requestData.to"}}):t._e()],1)],1),a("v-flex",{attrs:{xs12:""}},[t.$can("individual_request_service")?a("v-map",{ref:"myMapRef",staticStyle:{position:"relative",width:"100%",height:"180px","z-index":"2"},attrs:{center:[t.latitude,t.longitude],zoom:15}},[a("v-icondefault",{staticClass:"mt-5"}),a("v-tilelayer",{attrs:{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"}}),a("v-marker",{ref:"myMarker",attrs:{"lat-lng":[t.latitude,t.longitude],icon:t.icon,draggable:!0}},[a("v-popup",{attrs:{content:t.profile.worker.first_name}})],1)],1):t._e()],1),a("v-flex",{staticClass:"mt-2",attrs:{xs12:""}},[a("v-btn",{staticClass:"primary white--text text-none mt-2",attrs:{loading:t.loading,depressed:"",block:""},on:{click:t.completeRequest}},[t._v("\n                              Complete\n                              "),a("v-icon",{staticClass:"white--text",attrs:{right:""}},[t._v("\n                                  done_all\n                              ")])],1)],1)],1)],1):t._e(),0==t.profile.worker.health_worker_profile.active?a("div",{staticClass:"grey--text"},[t._v(t._s(t.profile.worker.first_name)+" "+t._s(t.profile.worker.last_name)+" is currently Unavailable")]):t._e()],1)],1):t._e()])],1)],1),a("v-container",[a("v-layout",{attrs:{column:""}},[t._l(t.favourites,(function(e,i){return[a("v-flex",{staticClass:"mb-1",attrs:{xs12:""}},[a("v-card",{staticClass:"grey lighten-4 login-circle pa-2",attrs:{elevation:"0"},on:{click:function(e){return t.goToHProfile(i)}}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs3:""}},[a("v-avatar",{attrs:{size:"70",color:"grey lighten-4"}},[a("img",{attrs:{src:"https://cdn.vuetifyjs.com/images/profiles/marcus.jpg",alt:"avatar"}})])],1),a("v-flex",{attrs:{xs9:""}},[a("div",[a("b",[t._v(t._s(e.worker.first_name)+" "+t._s(e.worker.last_name))])]),a("div",{staticClass:"grey--text"},[t._v(t._s(e.worker.health_worker_profile.worker_category.name)+" - "+t._s(e.worker.health_worker_profile.worker_sub_category.name))]),a("div",[a("v-rating",{attrs:{value:e.rating,color:"amber",dense:"","half-increments":"",readonly:"",size:"14"}})],1),a("div",{staticClass:"mt-1"},[t._v("Last Seen: "+t._s(t.formattedDate(e.lastVisit.created_at)))]),a("div",{staticClass:"mt-1"},[t._v("Total Visits: "+t._s(e.totalVisits))])])],1)],1)],1)]}))],2),t.length?a("div",{staticClass:"text-xs-center"},[a("v-pagination",{attrs:{length:t.length,"total-visible":"5",circle:""},on:{input:t.pagination},model:{value:t.favouritePagination.current_page,callback:function(e){t.$set(t.favouritePagination,"current_page",e)},expression:"favouritePagination.current_page"}})],1):t._e()],1)],1)},Ee=[];delete se["Icon"].Default.prototype._getIconUrl,se["Icon"].Default.mergeOptions({iconRetinaUrl:a("584d"),iconUrl:a("6397"),shadowUrl:a("e2b9")});var $e={components:{"v-map":Xt["a"],"v-tilelayer":te["a"],"v-icondefault":ee["a"],"v-marker":ae["a"],"v-popup":ie["a"]},data:function(){var t=Object(se["icon"])(Jt()({},se["Icon"].Default.prototype.options,{iconUrl:le.a,shadowUrl:de.a}));return{icon:t,menu1:!1,menu2:!1,color:"",message:"",snackbar:!1,loading:!1,profileDialog:!1,profile:{},latitude:"",longitude:"",location:"",requestData:{location:{},from:null,to:null,category:null,workerId:null,subGroup:null}}},created:function(){this.initialize(),navigator.geolocation.getCurrentPosition(this.currentPosition)},methods:Object(c["a"])({},Object(p["b"])(["fetchfavourites"]),{allowedStep:function(t){return t%5===0},initialize:function(){this.fetchfavourites(this.favouritePagination.current_page)},goToHProfile:function(t){this.profile=this.favourites[t],this.profileDialog=!0},pagination:function(){this.fetchfavourites(this.favouritePagination.current_page)},formattedDate:function(t){return t?Ce()(t,"Do MMM YYYY"):""},currentPosition:function(t){var e=this;e.latitude=t.coords.latitude.toString(),e.longitude=t.coords.longitude.toString(),i["a"].set(this,"longitude",t.coords.longitude.toString()),i["a"].set(this,"latitude",t.coords.latitude.toString());var a={longitude:e.longitude,latitude:e.latitude};k({url:"/api/userDevice",data:a,method:"POST"}).then((function(t){})).catch((function(t){}))},completeRequest:function(){var t=this;this.requestData.location=this.$refs.myMarker.mapObject.getLatLng(),this.requestData.category=this.profile.worker.health_worker_profile.worker_category.id,this.requestData.workerId=this.profile.worker.id,this.loading=!0,k({url:"/api/userRequest?type=complete",data:this.requestData,method:"POST"}).then((function(e){t.message="Request Completed Successfully.",t.color="success",t.snackbar=!0,t.loading=!1,t.profileDialog=!0})).catch((function(e){t.loading=!1,t.message="An Error Occured, Please Try Again.",t.color="error",t.snackbar=!0}))}}),computed:Object(c["a"])({},Object(p["c"])(["favourites","favouritePagination"]),{now:function(){var t=new Date,e=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds();return e},length:function(){return Math.ceil(this.favouritePagination.total/this.favouritePagination.per_page)}})},je=$e,Ue=(a("f0de"),Object(C["a"])(je,Oe,Ee,!1,null,null,null)),Le=Ue.exports;I()(Ue,{VAvatar:q["a"],VBtn:V["a"],VCard:yt["a"],VCardText:wt["b"],VContainer:Wt["a"],VDialog:Dt["a"],VDivider:R["a"],VFlex:T["a"],VIcon:S["a"],VImg:qt["a"],VLayout:O["a"],VMenu:A["a"],VPagination:fe["a"],VRating:ge["a"],VSnackbar:M["a"],VSpacer:z["a"],VTextField:Pt["a"],VTimePicker:_e["a"],VToolbar:H["a"],VToolbarTitle:N["b"]});var Ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard"},[a("v-snackbar",{attrs:{timeout:4e3,top:"",color:t.color},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[a("span",[t._v(t._s(t.message))])]),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition",scrollable:""},model:{value:t.profileDialog,callback:function(e){t.profileDialog=e},expression:"profileDialog"}},[a("v-card",[a("v-toolbar",{staticClass:"secondary",attrs:{flat:"",dark:""}},[a("v-spacer"),a("v-toolbar-title",[t._v("Edit Profile")]),a("v-spacer"),a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.profileDialog=!1}}},[a("v-icon",[t._v("close")])],1)],1),a("v-card-text",[a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-card",{staticClass:"elevation-0",attrs:{color:"white","max-width":"500"}},[t.authLoading?a("Loading"):t._e(),a("v-layout",{attrs:{column:""}},[a("v-flex",{attrs:{xs12:""}})],1),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-layout",{staticClass:"ma-2",attrs:{row:"",wrap:""}},[a("p",{staticClass:"title"},[a("b",[t._v("Contact Person")])]),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{staticClass:"text_field_2 mt-4",attrs:{rules:t.nameRules,"prepend-inner-icon":"person",name:"fname",label:"First Name",required:"",outline:""},model:{value:t.profile.fname,callback:function(e){t.$set(t.profile,"fname",e)},expression:"profile.fname"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{staticClass:"text_field_2 mt-4",attrs:{rules:t.nameRules,"prepend-inner-icon":"person",name:"lname",label:"Last Name",required:"",outline:""},model:{value:t.profile.lname,callback:function(e){t.$set(t.profile,"lname",e)},expression:"profile.lname"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{staticClass:"text_field_2 mt-4",attrs:{rules:t.nameRules,"prepend-inner-icon":"mail",name:"lname",label:"Email",required:"",outline:""},model:{value:t.profile.email,callback:function(e){t.$set(t.profile,"email",e)},expression:"profile.email"}})],1)],1),a("v-layout",{staticClass:"ma-2",attrs:{row:"",wrap:""}},[a("p",{staticClass:"title"},[a("b",[t._v("Health worker Profile")])]),a("v-flex",{attrs:{xs12:""}},[a("v-select",{staticClass:"text_field_2 mt-2",attrs:{rules:t.inputRules,items:t.genders,"item-value":"id","item-text":"name","prepend-inner-icon":"accessibility",name:"gender",label:"Gender",required:"",outline:""},model:{value:t.profile.gender_id,callback:function(e){t.$set(t.profile,"gender_id",e)},expression:"profile.gender_id"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{staticClass:"text_field_2 mt-2",attrs:{rules:t.inputRules,"prepend-inner-icon":"credit_card",name:"id_number",label:"ID Number",outline:""},model:{value:t.profile.id_number,callback:function(e){t.$set(t.profile,"id_number",e)},expression:"profile.id_number"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-select",{staticClass:"text_field_2 mt-2",attrs:{rules:t.inputRules,items:t.allWorkerCategories,"item-value":"id","item-text":"name","prepend-inner-icon":"assignment_ind",name:"job_group",label:"Job Group",required:"",outline:""},on:{input:t.updateSubCategory},model:{value:t.profile.worker_category_id,callback:function(e){t.$set(t.profile,"worker_category_id",e)},expression:"profile.worker_category_id"}})],1),a("v-flex",{attrs:{xs12:""}},[null!=t.getProfile.health_worker_profile?a("v-select",{staticClass:"text_field_2 mt-2",attrs:{rules:t.inputRules,items:t.subjobs.worker_sub_category,"item-value":"id","item-text":"name","prepend-inner-icon":"assignment_turned_in",name:"job_sub_group",label:"Job Sub-Group",required:"",outline:""},model:{value:t.profile.worker_sub_category_id,callback:function(e){t.$set(t.profile,"worker_sub_category_id",e)},expression:"profile.worker_sub_category_id"}}):a("v-select",{staticClass:"text_field_2 mt-2",attrs:{rules:t.inputRules,items:t.workerSubCategories,"item-value":"id","item-text":"name","prepend-inner-icon":"assignment_turned_in",name:"job_sub_group",label:"Job Sub-Group",required:"",outline:""},model:{value:t.profile.worker_sub_category_id,callback:function(e){t.$set(t.profile,"worker_sub_category_id",e)},expression:"profile.worker_sub_category_id"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{staticClass:"text_field_2 mt-2",attrs:{rules:t.inputRules,"prepend-inner-icon":"chrome_reader_mode",name:"licence_number",label:"Licence Number",outline:""},model:{value:t.profile.licence_number,callback:function(e){t.$set(t.profile,"licence_number",e)},expression:"profile.licence_number"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{staticClass:"text_field_2 mt-2",attrs:{rules:t.inputRules,"prepend-inner-icon":"school",name:"qualification",label:"Qualification",outline:""},model:{value:t.profile.qualification,callback:function(e){t.$set(t.profile,"qualification",e)},expression:"profile.qualification"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{staticClass:"text_field_2 mt-2",attrs:{rules:t.inputRules,"prepend-inner-icon":"assignment",name:"specialization",label:"Specialization",outline:""},model:{value:t.profile.specialization,callback:function(e){t.$set(t.profile,"specialization",e)},expression:"profile.specialization"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{staticClass:"text_field_2 mt-2",attrs:{rules:t.inputRules,"prepend-inner-icon":"hourglass_full",name:"experience_years",label:"Experience Years",outline:""},model:{value:t.profile.experience_years,callback:function(e){t.$set(t.profile,"experience_years",e)},expression:"profile.experience_years"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{staticClass:"text_field_2 mt-2",attrs:{rules:t.inputRules,"prepend-inner-icon":"apartment",name:"residence",label:"Residence",outline:""},model:{value:t.profile.residence,callback:function(e){t.$set(t.profile,"residence",e)},expression:"profile.residence"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-menu",[a("v-text-field",{staticClass:"text_field_2 mt-2",attrs:{slot:"activator",rules:t.inputRules,value:t.formattedDate,"prepend-inner-icon":"calendar_today",name:"date_licence_renewal",label:"Licence Renewal Date",outline:""},slot:"activator"}),a("v-date-picker",{model:{value:t.profile.date_licence_renewal,callback:function(e){t.$set(t.profile,"date_licence_renewal",e)},expression:"profile.date_licence_renewal"}})],1)],1),a("v-flex",{attrs:{xs12:""}},[a("v-textarea",{staticClass:"mt-2",attrs:{rules:t.inputRules,"prepend-inner-icon":"description",name:"bio",label:"Bio",outline:""},model:{value:t.profile.bio,callback:function(e){t.$set(t.profile,"bio",e)},expression:"profile.bio"}})],1),t.$can("hospital_profile")?a("div"):t._e(),t.$can("hospital_profile")?a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("p",{staticClass:"title"},[a("b",[t._v("Facility Information")])]),a("v-text-field",{staticClass:"text_field_2 mt-4",attrs:{rules:t.nameRules,"prepend-inner-icon":"store",name:"lname",label:"Facility Name",required:"",outline:""},model:{value:t.profile.name,callback:function(e){t.$set(t.profile,"name",e)},expression:"profile.name"}})],1):t._e(),t.$can("hospital_profile")?a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-select",{staticClass:"text_field_2 mt-4",attrs:{rules:t.accountTypeRules,items:t.facility_type,"item-value":"id","item-text":"name","prepend-inner-icon":"how_to_reg",name:"accountType",label:"Facility Type",required:"",outline:""},model:{value:t.profile.account_type,callback:function(e){t.$set(t.profile,"account_type",e)},expression:"profile.account_type"}})],1):t._e(),t.$can("hospital_profile")?a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-select",{staticClass:"text_field_2 mt-4",attrs:{rules:t.accountTypeRules,items:t.facility_level,"item-value":"id","item-text":"name","prepend-inner-icon":"how_to_reg",name:"accountType",label:"Facility Level",required:"",outline:""},model:{value:t.profile.account_type,callback:function(e){t.$set(t.profile,"account_type",e)},expression:"profile.account_type"}})],1):t._e(),t.$can("hospital_profile")?a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{staticClass:"text_field_2 mt-4",attrs:{rules:t.nameRules,"prepend-inner-icon":"chrome_reader_mode",name:"lname",label:"License No",required:"",outline:""},model:{value:t.profile.license_no,callback:function(e){t.$set(t.profile,"license_no",e)},expression:"profile.license_no"}})],1):t._e()],1)],1),a("v-card-actions",[a("v-btn",{staticClass:"primary text-none my-3",staticStyle:{opacity:"0.8","box-shadow":"-3px 3px 17px 6px rgba(0,0,0,0.75)"},attrs:{large:"",block:"",block:"",disabled:!t.valid,loading:t.loading},on:{click:t.create}},[t._v("\n                                  Register\n                              ")])],1)],1)],1)],1)],1)],1)],1),a("v-img",{attrs:{height:"100%",src:"https://cdn.vuetifyjs.com/images/cards/server-room.jpg"}},[a("v-layout",{attrs:{column:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-avatar",{staticClass:"profile",attrs:{color:"grey",size:"164",tile:""}},[a("v-img",{attrs:{src:"https://cdn.vuetifyjs.com/images/profiles/marcus.jpg"}})],1)],1),a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"ma-2"},[a("div",{staticClass:"title white--text"},[t._v(t._s(t.getProfile.first_name)+" "+t._s(t.getProfile.last_name))]),t.$can("health_worker_profile")&&null!=t.getProfile.health_worker_profile?a("div",{staticClass:"white--text"},[t._v(t._s(t.getProfile.health_worker_profile.worker_category.name)+" - "+t._s(t.getProfile.health_worker_profile.worker_sub_category.name))]):t._e()])])],1)],1),a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"374",elevation:"0"}},[t.$can("health_worker_profile")?a("v-card-text",[null!=t.getProfile.health_worker_profile?a("div",[t._v(t._s(t.getProfile.health_worker_profile.bio))]):t._e(),null!=t.getProfile.health_worker_profile?a("div",{staticClass:"my-4 subtitle-1 black--text"},[t._v("\n              "+t._s(t.getProfile.health_worker_profile.residence)+"\n          ")]):t._e(),null!=t.getProfile.health_worker_profile?a("div",[a("v-rating",{attrs:{value:4.5,color:"amber",dense:"","half-increments":"",readonly:"",size:"14"}})],1):t._e(),null!=t.getProfile.health_worker_profile?a("div",{staticClass:"grey--text"},[t._v("4.5 (413)")]):t._e(),null==t.getProfile.health_worker_profile?a("div",{attrs:{align:"center"}},[a("p",[t._v("Create a Profile to be listed on the platform")])]):t._e()]):t._e(),a("v-divider",{staticClass:"mx-4"}),a("div",{attrs:{align:"center"}},[a("v-btn",{staticClass:"primary white--text text-none mt-2",attrs:{depressed:"",text:""},on:{click:function(e){t.profileDialog=!0}}},[t._v("\n                  Edit\n                  "),a("v-icon",{staticClass:"white--text",attrs:{right:""}},[t._v("\n                      edit\n                  ")])],1)],1)],1)],1)},Fe=[],Me="USER_REQUEST",ze="USER_SUCCESS",He="USER_ERROR",Ne={data:function(){return{color:"",message:"",snackbar:!1,loading:!1,profileDialog:!1,inputRules:[function(t){return!!t||"Field is required"}],genders:[{id:1,name:"Male"},{id:2,name:"Female"}],facility_level:[{id:1,name:"Hospital"},{id:2,name:"Health Center"},{id:3,name:"Dispensary"},{id:4,name:"Clinic"}],facility_type:[{id:1,name:"Private"},{id:2,name:"Public"}],profile:{id:"",fname:"",lname:"",email:"",bio:"",gender_id:"",id_number:"",worker_category_id:"",worker_sub_category_id:"",licence_number:"",date_license_renewal:"",qualification:"",specialization:"",residence:"",experience_years:"",profile_pic:""},workerSubCategories:[]}},created:function(){this.initialize()},mounted:function(){this.assignProfile()},methods:Object(c["a"])({},Object(p["b"])(["fetchWorkerCategories","USER_REQUEST"]),{initialize:function(){this.fetchWorkerCategories(),this.USER_REQUEST()},assignProfile:function(){this.profile.id=this.getProfile.id,this.profile.fname=this.getProfile.first_name,this.profile.lname=this.getProfile.last_name,this.profile.email=this.getProfile.email,null!=this.getProfile.health_worker_profile&&(this.profile.bio=this.getProfile.health_worker_profile.bio,this.profile.gender_id=this.getProfile.health_worker_profile.gender_id,this.profile.id_number=this.getProfile.health_worker_profile.id_number,this.profile.worker_category_id=this.getProfile.health_worker_profile.worker_category_id,this.profile.worker_sub_category_id=this.getProfile.health_worker_profile.worker_sub_category_id,this.profile.licence_number=this.getProfile.health_worker_profile.licence_number,this.profile.date_licence_renewal=this.getProfile.health_worker_profile.date_licence_renewal,this.profile.qualification=this.getProfile.health_worker_profile.qualification,this.profile.specialization=this.getProfile.health_worker_profile.specialization,this.profile.residence=this.getProfile.health_worker_profile.residence,this.profile.experience_years=this.getProfile.health_worker_profile.experience_years,this.profile.profile_pic=this.getProfile.health_worker_profile.profile_pic)},updateSubCategory:function(){var t=this,e=this.$store.getters.allWorkerCategories.find((function(e){return e.id==t.profile.worker_category_id}));this.workerSubCategories=e.worker_sub_category},updateProfile:function(){var t=this;this.loading=!0,k({url:"/api/user",data:this.profile,method:"POST"}).then((function(e){t.loading=!1,t.profileDialog=!1,t.message="Profile Updated Successfully",t.color="success",t.snackbar=!0,t.USER_REQUEST()})).catch((function(e){t.loading=!1,t.message="An Error Occured, Please Try Again.",t.color="error",t.snackbar=!0}))}}),computed:Object(c["a"])({},Object(p["c"])(["allWorkerCategories","getProfile"]),{subjobs:function(){var t=this;return this.$store.getters.allWorkerCategories.find((function(e){return e.id==t.profile.worker_category_id}))},formattedDate:function(){return this.profile.date_licence_renewal?Ce()(this.profile.date_licence_renewal,"Do MMM YYYY"):""}})},We=Ne,Ge=a("2e4b"),Be=Object(C["a"])(We,Ae,Fe,!1,null,null,null),Qe=Be.exports;I()(Be,{VAvatar:q["a"],VBtn:V["a"],VCard:yt["a"],VCardActions:wt["a"],VCardText:wt["b"],VDatePicker:Ge["a"],VDialog:Dt["a"],VDivider:R["a"],VFlex:T["a"],VForm:It["a"],VIcon:S["a"],VImg:qt["a"],VLayout:O["a"],VMenu:A["a"],VRating:ge["a"],VSelect:Gt["a"],VSnackbar:M["a"],VSpacer:z["a"],VTextField:Pt["a"],VTextarea:Re["a"],VToolbar:H["a"],VToolbarTitle:N["b"]});a("7f7f");var Ye,Ke,Ze,Je={status:"",profile:{}},Xe={getProfile:function(t){return t.profile},isProfileLoaded:function(t){return!!t.profile.name}},ta=Object(Y["a"])({},Me,(function(t){var e=t.commit,a=t.dispatch;e(Me),k({url:"/api/get-user",method:"GET"}).then((function(t){e(ze,t)})).catch((function(t){e(He),a(m),window.location.reload(!0)}))})),ea=(Ye={},Object(Y["a"])(Ye,Me,(function(t){t.status="loading"})),Object(Y["a"])(Ye,ze,(function(t,e){t.status="success",i["a"].set(t,"profile",e)})),Object(Y["a"])(Ye,He,(function(t){t.status="error"})),Object(Y["a"])(Ye,m,(function(t){t.profile={}})),Ye),aa={state:Je,getters:Xe,actions:ta,mutations:ea},ia={token:localStorage.getItem("user-token")||"",status:"",hasLoadedOnce:!1},sa={isAuthenticated:function(t){return!!t.token},authStatus:function(t){return t.status}},ra=(Ke={},Object(Y["a"])(Ke,d,(function(t,e){var a=t.commit,i=t.dispatch;return new g.a((function(t,s){a(d),k({url:"/api/login",data:e,method:"POST"}).then((function(e){a(u,e),localStorage.setItem("user-token","Bearer "+e.token),i(Me),t(e)})).catch((function(t){a(v,t),localStorage.removeItem("user-token"),s(t)}))}))})),Object(Y["a"])(Ke,m,(function(t){var e=t.commit;t.dispatch;return new g.a((function(t,a){e(m),localStorage.removeItem("user-token"),t()}))})),Ke),na=(Ze={},Object(Y["a"])(Ze,d,(function(t){t.status="loading"})),Object(Y["a"])(Ze,u,(function(t,e){t.status="success",t.token=e.token,t.hasLoadedOnce=!0})),Object(Y["a"])(Ze,v,(function(t){t.status="error",t.hasLoadedOnce=!0})),Object(Y["a"])(Ze,m,(function(t){t.token=""})),Ze),oa={state:ia,getters:sa,actions:ra,mutations:na},la=(a("96cf"),a("3b8d")),ca={roles:{}},da={allRoles:function(t){return t.roles}},ua={fetchRoles:function(){var t=Object(la["a"])(regeneratorRuntime.mark((function t(e){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.next=3,k({url:"/api/role",method:"GET"});case 3:i=t.sent,a("setRoles",i);case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},va={setRoles:function(t,e){return t.roles=e}},ma={state:ca,getters:da,actions:ua,mutations:va},pa=a("4b58"),fa={rules:[]},ga={ability:function(){return new pa["a"]}},ha={},_a={setRules:function(t,e){return t.rules=e}},xa={state:fa,getters:ga,actions:ha,mutations:_a},ba={notifications:[]},ka={notifications:function(t){return t.notifications}},ya={fetchnotifications:function(){var t=Object(la["a"])(regeneratorRuntime.mark((function t(e){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,e.state,t.next=3,k({url:"/api/notifications",method:"GET"});case 3:i=t.sent,a("setnotifications",i);case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},wa={setnotifications:function(t,e){return t.notifications=e}},Ca={state:ba,getters:ka,actions:ya,mutations:wa},Da={individualUpcoming:[],individualHistorical:[],workerUpcoming:[],workerHistorical:[],individualUpcomingPagination:{search:" ",current_page:1,per_page:0,total:0,visible:10},individualHistoricalPagination:{search:" ",current_page:1,per_page:0,total:0,visible:10},workerUpcomingPagination:{search:" ",current_page:1,per_page:0,total:0,visible:10},workerHistoricalPagination:{search:" ",current_page:1,per_page:0,total:0,visible:10}},Ia={allIndividualUpcoming:function(t){return t.individualUpcoming},allIndividualHistorical:function(t){return t.individualHistorical},allWorkerUpcoming:function(t){return t.workerUpcoming},allWorkerHistorical:function(t){return t.workerHistorical},individualUpcomingPagination:function(t){return t.individualUpcomingPagination},individualHistoricalPagination:function(t){return t.individualHistoricalPagination},workerUpcomingPagination:function(t){return t.workerUpcomingPagination},workerHistoricalPagination:function(t){return t.workerHistoricalPagination}},qa={fetchIndividualUpcoming:function(){var t=Object(la["a"])(regeneratorRuntime.mark((function t(e,a){var i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.commit,t.next=3,k({url:"/api/userRequest?page=".concat(a,"&type=individualUpcoming"),method:"GET"});case 3:s=t.sent,i("setIndividualUpcoming",s);case 5:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}(),fetchIndividualHistorical:function(){var t=Object(la["a"])(regeneratorRuntime.mark((function t(e,a){var i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.commit,t.next=3,k({url:"/api/userRequest?page=".concat(a,"&type=individualHistorical"),method:"GET"});case 3:s=t.sent,i("setIndividualHistorical",s);case 5:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}(),fetchWorkerUpcoming:function(){var t=Object(la["a"])(regeneratorRuntime.mark((function t(e,a){var i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.commit,t.next=3,k({url:"/api/userRequest?page=".concat(a,"&type=workerUpcoming"),method:"GET"});case 3:s=t.sent,i("setWorkerUpcoming",s);case 5:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}(),fetchWorkerHistorical:function(){var t=Object(la["a"])(regeneratorRuntime.mark((function t(e,a){var i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.commit,t.next=3,k({url:"/api/userRequest?page=".concat(a,"&type=workerHistorical"),method:"GET"});case 3:s=t.sent,i("setWorkerHistorical",s);case 5:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},Pa={setIndividualUpcoming:function(t,e){t.individualUpcoming=e.data,t.individualUpcomingPagination.current_page=e.current_page,t.individualUpcomingPagination.total=e.total,t.individualUpcomingPagination.per_page=e.per_page},setIndividualHistorical:function(t,e){t.individualHistorical=e.data,t.individualHistoricalPagination.current_page=e.current_page,t.individualHistoricalPagination.total=e.total,t.individualHistoricalPagination.per_page=e.per_page},setWorkerUpcoming:function(t,e){t.workerUpcoming=e.data,t.workerUpcomingPagination.current_page=e.current_page,t.workerUpcomingPagination.total=e.total,t.workerUpcomingPagination.per_page=e.per_page},setWorkerHistorical:function(t,e){t.workerHistorical=e.data,t.workerHistoricalPagination.current_page=e.current_page,t.workerHistoricalPagination.total=e.total,t.workerHistoricalPagination.per_page=e.per_page}},Va={state:Da,getters:Ia,actions:qa,mutations:Pa},Ra={stats:[]},Ta={stats:function(t){return t.stats}},Sa={fetchstats:function(){var t=Object(la["a"])(regeneratorRuntime.mark((function t(e){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,e.state,t.next=3,k({url:"/api/user?type=stats",method:"GET"});case 3:i=t.sent,a("setstats",i);case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},Oa={setstats:function(t,e){return t.stats=e}},Ea={state:Ra,getters:Ta,actions:Sa,mutations:Oa},$a={favourites:[],favouritePagination:{search:" ",current_page:1,per_page:0,total:0,visible:10}},ja={favourites:function(t){return t.favourites},favouritePagination:function(t){return t.favouritePagination}},Ua={fetchfavourites:function(){var t=Object(la["a"])(regeneratorRuntime.mark((function t(e){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,e.state,t.next=3,k({url:"/api/userFavourite",method:"GET"});case 3:i=t.sent,a("setfavourites",i);case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},La={setfavourites:function(t,e){t.favourites=e.data,t.favouritePagination.current_page=e.current_page,t.favouritePagination.total=e.total,t.favouritePagination.per_page=e.per_page}},Aa={state:$a,getters:ja,actions:Ua,mutations:La},Fa={workerCategories:{}},Ma={allWorkerCategories:function(t){return t.workerCategories}},za={fetchWorkerCategories:function(){var t=Object(la["a"])(regeneratorRuntime.mark((function t(e){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.next=3,k({url:"/api/workerCategory",method:"GET"});case 3:i=t.sent,a("setWorkerCategories",i);case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},Ha={setWorkerCategories:function(t,e){return t.workerCategories=e}},Na={state:Fa,getters:Ma,actions:za,mutations:Ha},Wa={workerSubCategories:{}},Ga={allWorkerSubCategories:function(t){return t.workerSubCategories}},Ba={fetchWorkerSubCategories:function(){var t=Object(la["a"])(regeneratorRuntime.mark((function t(e){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.next=3,k({url:"/api/workerSubCategory",method:"GET"});case 3:i=t.sent,a("setWorkerSubCategories",i);case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},Qa={setWorkerSubCategories:function(t,e){return t.workerSubCategories=e}},Ya={state:Wa,getters:Ga,actions:Ba,mutations:Qa},Ka=a("bfa9"),Za=new pa["a"],Ja=function(t){return Za.update(t.state.abilities.rules),t.subscribe((function(e){switch(Za.update(t.state.abilities.rules),e.type){case"USER_SUCCESS":for(var a=[],i=e.payload.roles.length-1;i>=0;i--)for(var s=e.payload.roles[i].permissions.length-1;s>=0;s--)a[e.payload.roles[i].permissions[s].id]=e.payload.roles[i].permissions[s].name;Za.update([{actions:a,subject:"all"}]),t.commit("setRules",[{actions:a,subject:"all"}]);break;case"USER_ERROR":Za.update([{actions:{}}]);break}}))};i["a"].use(p["a"]);var Xa=Za,ti=new Ka["a"]({key:"hrh_app",storage:window.localStorage,filter:function(t){return!0}}),ei=new p["a"].Store({plugins:[ti.plugin,Ja],modules:{user:aa,auth:oa,roles:ma,stats:Ea,abilities:xa,favourites:Aa,notifications:Ca,serviceRequests:Va,workerCategories:Na,workerSubCategories:Ya},strict:!1}),ai=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard grey--lighten-1"},[a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.stockdialog,callback:function(e){t.stockdialog=e},expression:"stockdialog"}},[a("v-card",[a("v-toolbar",{staticClass:"elevation-0",attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[t._v("Issue Stock")]),a("v-spacer"),a("v-btn",{attrs:{round:"",outline:"",color:"blue lighten-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("\n            Cancel\n            "),a("v-icon",{attrs:{right:"",dark:""}},[t._v("close")])],1)],1),a("v-form",{ref:"updateform",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-card-text",[a("v-toolbar-title",[t._v("Quantity Requested: "+t._s(t.requestIssue.quantity)+" ")]),a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{outline:"",readonly:"",rules:[function(t){return!!t||"Stock ID is Required"}],label:"Stock ID"},model:{value:t.requestItem.stock_id,callback:function(e){t.$set(t.requestItem,"stock_id",e)},expression:"requestItem.stock_id"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{outline:"",rules:[function(t){return!!t||"Quantity Signed Out is Required"}],label:"Quantity Available:"},model:{value:t.requestItem.quantity,callback:function(e){t.$set(t.requestItem,"quantity",e)},expression:"requestItem.quantity"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{outline:"",rules:[function(t){return!!t||"Remarks is Required"}],label:"Comment"},model:{value:t.requestItem.comment,callback:function(e){t.$set(t.requestItem,"comment",e)},expression:"requestItem.comment"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{round:"",outline:"",xs12:"",sm6:"",color:"blue darken-1",disabled:!t.valid,loading:t.loading},nativeOn:{click:function(e){return t.saveIssueStock(e)}}},[t._v("\n              Save "),a("v-icon",{attrs:{right:"",dark:""}},[t._v("cloud_upload")])],1)],1)],1)],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.receiveDialog,callback:function(e){t.receiveDialog=e},expression:"receiveDialog"}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.receiveDialog=!1}}},[a("v-icon",[t._v("close")])],1),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(e){t.addStock=!0}}},[t._v("Add new Stock")])],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.stockheaders,items:t.stockDetails,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.lot_no))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.batch_no))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.manufacturer))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.quantity_supplied))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.quantity_issued))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(t.stockItem.quantity_stock))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.expiry_date))]),a("td",{staticClass:"justify-left layout px-0"},[a("v-btn",{attrs:{outline:"",small:"",title:"Edit",color:"teal",flat:""},on:{click:function(a){return t.issueItem(e.item)}}},[t._v("\n                Edit\n                "),a("v-icon",{attrs:{right:"",dark:""}},[t._v("edit")])],1),a("v-btn",{attrs:{outline:"",small:"",title:"Edit",color:"warning",flat:""},on:{click:function(a){return t.issueItem(e.item)}}},[t._v("\n                Issue Stock\n                "),a("v-icon",{attrs:{right:"",dark:""}},[t._v("done_all")])],1)],1)]}}])})],1)],1),a("v-container",{attrs:{"grid-list-xl":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{staticStyle:{padding:"10px"},attrs:{sm6:"",xs12:"",md6:"",lg3:""}},[a("v-card",{staticClass:"white--text",attrs:{color:"blue-grey darken-2"}},[a("v-layout",[a("v-flex",{attrs:{xs5:""}},[a("v-img",{attrs:{src:"https://image.flaticon.com/icons/svg/33/33308.svg",height:"125px",contain:""}})],1),a("v-flex",{attrs:{xs7:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"headline"},[t._v("Users")]),a("div",[t._v(t._s(t.users_count))]),a("div")])])],1)],1),a("v-divider",{attrs:{light:""}}),a("v-card-actions",{staticClass:"pa-3"},[a("v-btn",{attrs:{to:"/admin/users",flat:"",color:"white"}},[t._v("View More")])],1)],1)],1),a("v-flex",{staticStyle:{padding:"10px"},attrs:{sm6:"",xs12:"",md6:"",lg3:""}},[a("v-card",{staticClass:"white--text",attrs:{color:"cyan darken-2"}},[a("v-layout",[a("v-flex",{attrs:{xs5:""}},[a("v-img",{attrs:{src:"https://image.flaticon.com/icons/svg/66/66276.svg",height:"125px",contain:""}})],1),a("v-flex",{attrs:{xs7:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"headline"},[t._v("Complete Requests")]),a("div",[t._v(t._s(t.complete))]),a("div")])])],1)],1),a("v-divider",{attrs:{light:""}}),a("v-card-actions",{staticClass:"pa-3"},[a("v-btn",{attrs:{to:"/admin/requests",flat:"",color:"white"}},[t._v("View More")])],1)],1)],1),a("v-flex",{staticStyle:{padding:"10px"},attrs:{sm6:"",xs12:"",md6:"",lg3:""}},[a("v-card",{staticClass:"white--text",attrs:{color:" orange darken-4"}},[a("v-layout",[a("v-flex",{attrs:{xs5:""}},[a("v-img",{attrs:{src:"https://image.flaticon.com/icons/svg/1/1560.svg",height:"125px",contain:""}})],1),a("v-flex",{attrs:{xs7:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"headline"},[t._v("Pending Requests")]),a("div",[t._v(t._s(t.pending))])])])],1)],1),a("v-divider",{attrs:{light:""}}),a("v-card-actions",{staticClass:"pa-3"},[a("v-btn",{attrs:{to:"/admin/requests",flat:"",color:"white"}},[t._v("View More")])],1)],1)],1),a("v-flex",{staticStyle:{padding:"10px"},attrs:{sm6:"",xs12:"",md6:"",lg3:""}},[a("v-card",{staticClass:"white--text",attrs:{color:" red darken-4"}},[a("v-layout",[a("v-flex",{attrs:{xs5:""}},[a("v-img",{attrs:{src:"stop.png",height:"125px",contain:""}})],1),a("v-flex",{attrs:{xs7:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"headline"},[t._v("Rejected Requests")]),a("div",[t._v(t._s(t.rejected))])])])],1)],1),a("v-divider",{attrs:{light:""}}),a("v-card-actions",{staticClass:"pa-3"},[a("v-btn",{attrs:{to:"/admin/requests",flat:"",color:"white"}},[t._v("View More")])],1)],1)],1),a("v-flex",{staticStyle:{padding:"10px"},attrs:{sm6:"",xs12:"",md6:"",lg3:""}},[a("v-card",{staticClass:"white--text",attrs:{color:"green"}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs7:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"headline"},[t._v("Health Facilities")]),a("div",[t._v(t._s(t.facilities))])])])],1),a("v-flex",{attrs:{xs5:""}},[a("v-img",{attrs:{src:"https://image.flaticon.com/icons/png/512/1546/1546074.png",height:"125px",contain:""}})],1)],1),a("v-divider",{attrs:{light:""}}),a("v-card-actions",{staticClass:"pa-3"},[a("v-btn",{attrs:{to:"/admin/facilities",flat:"",color:"white"}},[t._v("View More")])],1)],1)],1),a("v-flex",{staticStyle:{padding:"10px"},attrs:{sm6:"",xs12:"",md6:"",lg3:""}},[a("v-card",{staticClass:"white--text",attrs:{color:"orange"}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs7:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"headline"},[t._v("Pharmacist")]),a("div",[t._v(t._s(t.pharmacist))])])])],1),a("v-flex",{attrs:{xs5:""}},[a("v-img",{attrs:{src:"https://image.flaticon.com/icons/png/512/2051/2051579.png",height:"125px",contain:""}})],1)],1),a("v-divider",{attrs:{light:""}}),a("v-card-actions",{staticClass:"pa-3"},[a("v-btn",{attrs:{to:"/admin/users",flat:"",color:"white"}},[t._v("View More")])],1)],1)],1),a("v-flex",{staticStyle:{padding:"10px"},attrs:{sm6:"",xs12:"",md6:"",lg3:""}},[a("v-card",{staticClass:"white--text",attrs:{color:"grey"}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs7:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"headline"},[t._v("Nurses")]),a("div",[t._v(t._s(t.nurses))])])])],1),a("v-flex",{attrs:{xs5:""}},[a("v-img",{attrs:{src:"https://image.flaticon.com/icons/png/512/1021/1021800.png",height:"125px",contain:""}})],1)],1),a("v-divider",{attrs:{light:""}}),a("v-card-actions",{staticClass:"pa-3"},[a("v-btn",{attrs:{to:"/admin/users",flat:"",color:"white"}},[t._v("View More")])],1)],1)],1),a("v-flex",{staticStyle:{padding:"10px"},attrs:{sm6:"",xs12:"",md6:"",lg3:""}},[a("v-card",{staticClass:"white--text",attrs:{color:"blue"}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs7:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"headline"},[t._v("Doctors")]),a("div",[t._v(t._s(t.doctors))])])])],1),a("v-flex",{attrs:{xs5:""}},[a("v-img",{attrs:{src:"https://image.flaticon.com/icons/png/512/1021/1021799.png",height:"125px",contain:""}})],1)],1),a("v-divider",{attrs:{light:""}}),a("v-card-actions",{staticClass:"pa-3"},[a("v-btn",{attrs:{to:"/admin/users",flat:"",color:"white"}},[t._v("View More")])],1)],1)],1),a("v-flex",{staticStyle:{padding:"10px"},attrs:{sm6:"",xs12:"",md6:"",lg3:""}},[a("v-card",{staticClass:"white--text",attrs:{color:"purple"}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs7:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"headline"},[t._v("Clinician")]),a("div",[t._v(t._s(t.clinicians))])])])],1),a("v-flex",{attrs:{xs5:""}},[a("v-img",{attrs:{src:"https://image.flaticon.com/icons/png/512/920/920988.png",height:"125px",contain:""}})],1)],1),a("v-divider",{attrs:{light:""}}),a("v-card-actions",{staticClass:"pa-3"},[a("v-btn",{attrs:{to:"/admin/users",flat:"",color:"white"}},[t._v("View More")])],1)],1)],1)],1),a("v-layout",[a("v-container",{staticClass:"my-5"},[a("span",{staticClass:"title"},[t._v("Today's Requests")]),a("v-layout",{attrs:{row:"","justify-right":""}},[a("v-flex",{attrs:{sm12:"",md6:""}},[a("v-layout",{attrs:{row:"",wrap:""}})],1),a("v-flex",{attrs:{sm12:"",md6:"","offset-md2":"","text-xs-right":""}})],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.requests,"hide-actions":"",search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.requester.first_name)+" "+t._s(e.item.requester.last_name))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.recipient.first_name)+" "+t._s(e.item.recipient.last_name))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.recipient.health_worker_profile.worker_category.name))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.from))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.to))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.status.name))])]}}])}),t.length?a("div",{staticClass:"text-xs-center"},[a("v-pagination",{attrs:{length:t.length,"total-visible":t.pagination.visible,circle:""},on:{input:t.initialize},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1):t._e()],1)],1)],1)],1)},ii=[],si={name:"Dashboard",computed:Object(c["a"])({},Object(p["c"])(["isAuthenticated","isProfileLoaded"])),data:function(){return{users_count:"",doctors:"",nurses:"",pharmacist:"",clinicians:"",bookings_cancelled:"",revenue:"",complete:"",pending:"",rejected:"",facilities:"",DailyRequest:[],productDialog:!1,receiveDialog:!1,stockdialog:!1,loading:!1,valid:!0,editedItem:{field_reservation_date:"",field_reservation_start_time:"",field_reservation_end_time:"",field_section_id:""},requestItem:{stock_id:"",stock_order_product_id:"",quantity:"",stock_order_request_id:"",comment:""},requests:[],requestIssue:[],headers:[{text:"Date",value:"created_at"},{text:"Requester",value:"store"},{text:"Health Worker",value:"name"},{text:"Category",value:"supplier"},{text:"Start Time",value:"quantity"},{text:"End Time",value:"product"},{text:"Status",value:"quantity"}],stockheaders:[{text:"Lot No.",value:"lot_no"},{text:"Batch No.",value:"batch_no"},{text:"Manufacturer",value:"manufacturer"},{text:"Quantity Supplied",value:"quantity_supplied"},{text:"Quantity Issued",value:"quantity_issued"},{text:"Quantity Requested",value:"quantity_requested"},{text:"Expiry Date",value:"expiry_date"},{text:"Actions",value:"name",sortable:!1}],item:[],stockDetails:[]}},created:function(){this.initialize()},methods:{initialize:function(){var t=this;k({url:"/api/countusers",method:"GET"}).then((function(e){console.log(e.data),t.users_count=e})).catch((function(t){console.log(t.response)})),k({url:"/api/countdoctors",method:"GET"}).then((function(e){console.log(e),t.doctors=e})).catch((function(t){console.log(t.response)})),k({url:"/api/complete",method:"GET"}).then((function(e){console.log(e),t.complete=e})).catch((function(t){console.log(t.response)})),k({url:"/api/rejected",method:"GET"}).then((function(e){console.log(e),t.rejected=e})).catch((function(t){console.log(t.response)})),k({url:"/api/pending",method:"GET"}).then((function(e){console.log(e),t.pending=e})).catch((function(t){console.log(t.response)})),k({url:"/api/countfacilities",method:"GET"}).then((function(e){console.log(e),t.facilities=e})).catch((function(t){console.log(t.response)})),k({url:"/api/countpharmacist",method:"GET"}).then((function(e){console.log(e),t.pharmacist=e})).catch((function(t){console.log(t.response)})),k({url:"/api/countclinicians",method:"GET"}).then((function(e){console.log(e),t.clinicians=e})).catch((function(t){console.log(t.response)})),k({url:"/api/countnurses",method:"GET"}).then((function(e){console.log(e),t.nurses=e})).catch((function(t){console.log(t.response)})),k({url:"/api/dailyrequest",method:"GET"}).then((function(e){console.log(e),t.requests=e})).catch((function(t){console.log(t.response)}))},close:function(){this.dialog=!1,this.stockdialog=!1,this.saving||this.resetDialogReferences()},editItem:function(t){this.editedIndex=this.item.indexOf(t),this.editedItem=Jt()({},t),this.dialog=!0,this.editedItem.curr_balance=t.quantity},itemStock:function(t){var e=this;this.stockItem.id=t.id,this.stockItem.product_id=t.product_id,k({url:"/api/stockDetails/"+t.product_id,method:"GET"}).then((function(t){console.log("Request ID is"),e.stockDetails=t,console.log("stockDetails Quantity",e.stockItem.stock_order_request_id)})).catch((function(t){console.log(t.response)})),this.receiveDialog=!0}}},ri=si,ni=a("8fea"),oi=Object(C["a"])(ri,ai,ii,!1,null,null,null),li=oi.exports;I()(oi,{VBtn:V["a"],VCard:yt["a"],VCardActions:wt["a"],VCardText:wt["b"],VCardTitle:Ct["a"],VContainer:Wt["a"],VDataTable:ni["a"],VDialog:Dt["a"],VDivider:R["a"],VFlex:T["a"],VForm:It["a"],VIcon:S["a"],VImg:qt["a"],VLayout:O["a"],VPagination:fe["a"],VSpacer:z["a"],VTextField:Pt["a"],VToolbar:H["a"],VToolbarItems:N["a"],VToolbarTitle:N["b"]});var ci=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"invoice"},[a("v-snackbar",{attrs:{color:t.color,timeout:6e3,top:"top"===t.y},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n      "+t._s(t.message)+"\n  ")]),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.loadingDialog.loading,callback:function(e){t.$set(t.loadingDialog,"loading",e)},expression:"loadingDialog.loading"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n        "+t._s(t.loadingDialog.message)+"\n        "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),a("v-container",{staticClass:"my-5"},[a("span",{staticClass:"title"},[t._v("Requests")]),a("v-layout",{attrs:{row:"","justify-right":""}},[a("v-flex",{attrs:{sm12:"",md6:""}},[a("v-layout",{attrs:{row:"",wrap:""}})],1),a("v-flex",{attrs:{sm12:"",md6:"","offset-md2":"","text-xs-right":""}},[a("v-toolbar",{attrs:{dense:"",floating:""}},[a("v-text-field",{attrs:{"hide-details":"","prepend-icon":"search","single-line":"",label:"Search"},on:{keyup:function(e){return"keyCode"in e&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.initialize()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.requests,loading:t.loader,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.requester.first_name)+" "+t._s(e.item.requester.last_name))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.recipient.first_name)+" "+t._s(e.item.recipient.last_name))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.recipient.health_worker_profile.worker_category.name))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.from))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.to))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.status.name))])]}}])}),t.length?a("div",{staticClass:"text-xs-center"},[a("v-pagination",{attrs:{length:t.length,"total-visible":t.pagination.visible,circle:""},on:{input:t.initialize},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1):t._e()],1)],1)},di=[],ui=(a("386d"),{data:function(){return{search:"",query:"",snackbar:!1,message:"",y:"top",color:"success",valid:!0,delete:!1,loader:!1,loading:!1,loadingDialog:{loading:!1,message:""},dialog:!1,productDialog:!1,invoice:{patient:"",number:"",reference:"",date:null,due:null},inputRules:[function(t){return t.length>=!t||"Field is required"}],headers:[{text:"Id",align:"left",sortable:!1,value:"created_at"},{text:"Requesters Name",align:"left",value:"requester.first_name"},{text:"Health Workers",align:"left",value:"recipient.first_name"},{text:"Category",align:"left",value:"recipient.health_worker_profile.worker_category.name"},{text:"Start Time",align:"left",value:"Start Time"},{text:"End Time",align:"left",value:"End Time"},{text:"Status",align:"left",value:"status.name"}],item:[],categories:[],requests:[],editedIndex:-1,category:{name:"",description:""},editedItem:{category:"",item_code:"",description:"",unit_price:""},defaultItem:{category:"",item_code:"",description:"",unit_price:""},pagination:{page:1,per_page:0,total:0,visible:10}}},created:function(){this.initialize()},methods:{loadingMethod:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.loadingDialog.loading=t,this.loadingDialog.message=e},initialize:function(){var t=this;this.loader=!0,this.query="page="+this.pagination.page,""!=this.search&&(this.query=this.query+"&search="+this.search),k({url:"/api/allrequests?"+this.query,method:"GET"}).then((function(e){console.log("item is",e),t.requests=e,t.loader=!1,t.pagination.total=e.total,t.pagination.per_page=e.per_page})).catch((function(t){console.log(t.response)}))},close:function(){this.productDialog=!1,this.saving||this.resetDialogReferences()},editItem:function(t){this.editedIndex=this.item.indexOf(t),this.editedItem=Jt()({},t),this.productDialog=!0},resetDialogReferences:function(){this.editedItem=Jt()({},this.defaultItem),this.editedIndex=-1},save:function(){var t=this;this.saving=!0,this.editedIndex>-1?(this.loadingMethod(!0,"Updating Chargesheet"),this.$refs.productform.validate()&&(this.loading=!0,k({url:"/api/item/"+this.editedItem.id,data:this.editedItem,method:"PUT"}).then((function(e){t.loading=!1,Jt()(t.item[t.editedIndex],t.editedItem),console.log(e),t.productDialog=!1,t.resetDialogReferences(),t.saving=!1,t.message="Patient Information Updated Succesfully",t.snackbar=!0,t.loadingMethod(!1)})).catch((function(e){t.loading=!1,console.log(e.response),t.loadingMethod(!1)})),this.close())):(this.loadingMethod(!0,"Adding Chargesheet Entry"),this.$refs.productform.validate()&&(this.loading=!0,k({url:"/api/item",data:this.editedItem,method:"POST"}).then((function(e){t.loading=!1,t.item.push(e),console.log(t.editedItem),t.productDialog=!1,t.resetDialogReferences(),t.saving=!1,t.message="Item Added Succesfully",t.snackbar=!0,t.loadingMethod(!1)})).catch((function(e){t.loading=!1,console.log(e.response),t.loadingMethod(!1)})),this.close()))},deleteItem:function(t){if(confirm("Are you sure you want to delete this item?")&&(this.delete=!0),this.delete){var e=this.item.indexOf(t);this.item.splice(e,1),k({url:"/api/item/"+t.id,method:"DELETE"}).then((function(t){console.log(t)})).catch((function(t){console.log(t.response)}))}},saveCategory:function(){var t=this;this.$refs.form.validate()&&(this.loadingMethod(!0,"Posting Category"),this.loading=!0,k({url:"/api/item-category",data:this.category,method:"POST"}).then((function(e){t.loading=!1,t.saving=!1,t.categories.push(e),t.dialog=!1,t.message="Category Added Succesfully",t.snackbar=!0,t.loadingMethod(!1)})).catch((function(e){t.loading=!1,console.log(e.response),t.loadingMethod(!1)})),this.close())}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"},length:function(){return Math.ceil(this.pagination.total/this.pagination.per_page)}}}),vi=ui,mi=Object(C["a"])(vi,ci,di,!1,null,null,null),pi=mi.exports;I()(mi,{VCard:yt["a"],VCardText:wt["b"],VContainer:Wt["a"],VDataTable:ni["a"],VDialog:Dt["a"],VFlex:T["a"],VLayout:O["a"],VPagination:fe["a"],VProgressLinear:ft["a"],VSnackbar:M["a"],VTextField:Pt["a"],VToolbar:H["a"]});var fi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"invoice"},[a("v-snackbar",{attrs:{color:t.color,timeout:6e3,top:"top"===t.y},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n      "+t._s(t.message)+"\n  ")]),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.loadingDialog.loading,callback:function(e){t.$set(t.loadingDialog,"loading",e)},expression:"loadingDialog.loading"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n        "+t._s(t.loadingDialog.message)+"\n        "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),a("v-container",{staticClass:"my-5"},[a("span",{staticClass:"title"},[t._v(" Monthly Requests")]),a("v-layout",{attrs:{row:"","justify-right":""}},[a("v-flex",{attrs:{sm12:"",md6:""}},[a("v-layout",{attrs:{row:"",wrap:""}})],1),a("v-flex",{attrs:{sm12:"",md6:"","offset-md2":"","text-xs-right":""}},[a("v-toolbar",{attrs:{dense:"",floating:""}},[a("v-text-field",{attrs:{"hide-details":"","prepend-icon":"search","single-line":"",label:"Search"},on:{keyup:function(e){return"keyCode"in e&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.initialize()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.requests,loading:t.loader,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.months))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.category.name))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.Total))])]}}])}),t.length?a("div",{staticClass:"text-xs-center"},[a("v-pagination",{attrs:{length:t.length,"total-visible":t.pagination.visible,circle:""},on:{input:t.initialize},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1):t._e()],1)],1)},gi=[],hi={data:function(){return{search:"",query:"",snackbar:!1,message:"",y:"top",color:"success",valid:!0,delete:!1,loader:!1,loading:!1,loadingDialog:{loading:!1,message:""},dialog:!1,productDialog:!1,invoice:{patient:"",number:"",reference:"",date:null,due:null},inputRules:[function(t){return t.length>=!t||"Field is required"}],headers:[{text:"Month",align:"left",value:"requester.first_name"},{text:"Category",align:"left",value:"category"},{text:"Total Requests",align:"left",value:"Start Time"}],item:[],categories:[],requests:[],editedIndex:-1,category:{name:"",description:""},editedItem:{category:"",item_code:"",description:"",unit_price:""},defaultItem:{category:"",item_code:"",description:"",unit_price:""},pagination:{page:1,per_page:0,total:0,visible:10}}},created:function(){this.initialize()},methods:{loadingMethod:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.loadingDialog.loading=t,this.loadingDialog.message=e},initialize:function(){var t=this;this.loader=!0,this.query="page="+this.pagination.page,""!=this.search&&(this.query=this.query+"&search="+this.search),k({url:"/api/monthlyrequest?"+this.query,method:"GET"}).then((function(e){console.log("item is",e),t.requests=e,t.loader=!1,t.pagination.total=e.total,t.pagination.per_page=e.per_page})).catch((function(t){console.log(t.response)}))},close:function(){this.productDialog=!1,this.saving||this.resetDialogReferences()},editItem:function(t){this.editedIndex=this.item.indexOf(t),this.editedItem=Jt()({},t),this.productDialog=!0},resetDialogReferences:function(){this.editedItem=Jt()({},this.defaultItem),this.editedIndex=-1},save:function(){var t=this;this.saving=!0,this.editedIndex>-1?(this.loadingMethod(!0,"Updating Chargesheet"),this.$refs.productform.validate()&&(this.loading=!0,k({url:"/api/item/"+this.editedItem.id,data:this.editedItem,method:"PUT"}).then((function(e){t.loading=!1,Jt()(t.item[t.editedIndex],t.editedItem),console.log(e),t.productDialog=!1,t.resetDialogReferences(),t.saving=!1,t.message="Patient Information Updated Succesfully",t.snackbar=!0,t.loadingMethod(!1)})).catch((function(e){t.loading=!1,console.log(e.response),t.loadingMethod(!1)})),this.close())):(this.loadingMethod(!0,"Adding Chargesheet Entry"),this.$refs.productform.validate()&&(this.loading=!0,k({url:"/api/item",data:this.editedItem,method:"POST"}).then((function(e){t.loading=!1,t.item.push(e),console.log(t.editedItem),t.productDialog=!1,t.resetDialogReferences(),t.saving=!1,t.message="Item Added Succesfully",t.snackbar=!0,t.loadingMethod(!1)})).catch((function(e){t.loading=!1,console.log(e.response),t.loadingMethod(!1)})),this.close()))},deleteItem:function(t){if(confirm("Are you sure you want to delete this item?")&&(this.delete=!0),this.delete){var e=this.item.indexOf(t);this.item.splice(e,1),k({url:"/api/item/"+t.id,method:"DELETE"}).then((function(t){console.log(t)})).catch((function(t){console.log(t.response)}))}},saveCategory:function(){var t=this;this.$refs.form.validate()&&(this.loadingMethod(!0,"Posting Category"),this.loading=!0,k({url:"/api/item-category",data:this.category,method:"POST"}).then((function(e){t.loading=!1,t.saving=!1,t.categories.push(e),t.dialog=!1,t.message="Category Added Succesfully",t.snackbar=!0,t.loadingMethod(!1)})).catch((function(e){t.loading=!1,console.log(e.response),t.loadingMethod(!1)})),this.close())}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"},length:function(){return Math.ceil(this.pagination.total/this.pagination.per_page)}}},_i=hi,xi=Object(C["a"])(_i,fi,gi,!1,null,null,null),bi=xi.exports;I()(xi,{VCard:yt["a"],VCardText:wt["b"],VContainer:Wt["a"],VDataTable:ni["a"],VDialog:Dt["a"],VFlex:T["a"],VLayout:O["a"],VPagination:fe["a"],VProgressLinear:ft["a"],VSnackbar:M["a"],VTextField:Pt["a"],VToolbar:H["a"]});var ki=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"invoice"},[a("v-snackbar",{attrs:{color:t.color,timeout:6e3,top:"top"===t.y},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n      "+t._s(t.message)+"\n  ")]),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.loadingDialog.loading,callback:function(e){t.$set(t.loadingDialog,"loading",e)},expression:"loadingDialog.loading"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n        "+t._s(t.loadingDialog.message)+"\n        "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),a("v-container",{staticClass:"my-5"},[a("span",{staticClass:"title"},[t._v("Workers Ratings")]),a("v-layout",{attrs:{row:"","justify-right":""}},[a("v-flex",{attrs:{sm12:"",md6:""}},[a("v-layout",{attrs:{row:"",wrap:""}})],1),a("v-flex",{attrs:{sm12:"",md6:"","offset-md2":"","text-xs-right":""}},[a("v-toolbar",{attrs:{dense:"",floating:""}},[a("v-text-field",{attrs:{"hide-details":"","prepend-icon":"search","single-line":"",label:"Search"},on:{keyup:function(e){return"keyCode"in e&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.initialize()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.ratings,loading:t.loader,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.worker.first_name)+" "+t._s(e.item.worker.last_name))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.worker.email))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.worker.phone_no))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.Rating))])]}}])}),t.length?a("div",{staticClass:"text-xs-center"},[a("v-pagination",{attrs:{length:t.length,"total-visible":t.pagination.visible,circle:""},on:{input:t.initialize},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1):t._e()],1)],1)},yi=[],wi={data:function(){return{search:"",query:"",snackbar:!1,message:"",y:"top",color:"success",valid:!0,delete:!1,loader:!1,loading:!1,loadingDialog:{loading:!1,message:""},dialog:!1,productDialog:!1,invoice:{patient:"",number:"",reference:"",date:null,due:null},inputRules:[function(t){return t.length>=!t||"Field is required"}],headers:[{text:"Name",align:"left",value:"first_name"},{text:"Email",align:"left",value:"name"},{text:"Phone No.",align:"left",value:"name"},{text:"Average Rating /5",align:"left",value:"rating"}],item:[],categories:[],ratings:[],editedIndex:-1,category:{name:"",description:""},editedItem:{category:"",item_code:"",description:"",unit_price:""},defaultItem:{category:"",item_code:"",description:"",unit_price:""},pagination:{page:1,per_page:0,total:0,visible:10}}},created:function(){this.initialize()},methods:{loadingMethod:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.loadingDialog.loading=t,this.loadingDialog.message=e},initialize:function(){var t=this;this.loader=!0,this.query="page="+this.pagination.page,""!=this.search&&(this.query=this.query+"&search="+this.search),k({url:"/api/average?"+this.query,method:"GET"}).then((function(e){console.log("item is",e),t.ratings=e,t.loader=!1,t.pagination.total=e.total,t.pagination.per_page=e.per_page})).catch((function(t){console.log(t.response)}))},close:function(){this.productDialog=!1,this.saving||this.resetDialogReferences()},editItem:function(t){this.editedIndex=this.item.indexOf(t),this.editedItem=Jt()({},t),this.productDialog=!0},resetDialogReferences:function(){this.editedItem=Jt()({},this.defaultItem),this.editedIndex=-1},save:function(){var t=this;this.saving=!0,this.editedIndex>-1?(this.loadingMethod(!0,"Updating Chargesheet"),this.$refs.productform.validate()&&(this.loading=!0,k({url:"/api/item/"+this.editedItem.id,data:this.editedItem,method:"PUT"}).then((function(e){t.loading=!1,Jt()(t.item[t.editedIndex],t.editedItem),console.log(e),t.productDialog=!1,t.resetDialogReferences(),t.saving=!1,t.message="Patient Information Updated Succesfully",t.snackbar=!0,t.loadingMethod(!1)})).catch((function(e){t.loading=!1,console.log(e.response),t.loadingMethod(!1)})),this.close())):(this.loadingMethod(!0,"Adding Chargesheet Entry"),this.$refs.productform.validate()&&(this.loading=!0,k({url:"/api/item",data:this.editedItem,method:"POST"}).then((function(e){t.loading=!1,t.item.push(e),console.log(t.editedItem),t.productDialog=!1,t.resetDialogReferences(),t.saving=!1,t.message="Item Added Succesfully",t.snackbar=!0,t.loadingMethod(!1)})).catch((function(e){t.loading=!1,console.log(e.response),t.loadingMethod(!1)})),this.close()))},deleteItem:function(t){if(confirm("Are you sure you want to delete this item?")&&(this.delete=!0),this.delete){var e=this.item.indexOf(t);this.item.splice(e,1),k({url:"/api/item/"+t.id,method:"DELETE"}).then((function(t){console.log(t)})).catch((function(t){console.log(t.response)}))}},saveCategory:function(){var t=this;this.$refs.form.validate()&&(this.loadingMethod(!0,"Posting Category"),this.loading=!0,k({url:"/api/item-category",data:this.category,method:"POST"}).then((function(e){t.loading=!1,t.saving=!1,t.categories.push(e),t.dialog=!1,t.message="Category Added Succesfully",t.snackbar=!0,t.loadingMethod(!1)})).catch((function(e){t.loading=!1,console.log(e.response),t.loadingMethod(!1)})),this.close())}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"},length:function(){return Math.ceil(this.pagination.total/this.pagination.per_page)}}},Ci=wi,Di=Object(C["a"])(Ci,ki,yi,!1,null,null,null),Ii=Di.exports;I()(Di,{VCard:yt["a"],VCardText:wt["b"],VContainer:Wt["a"],VDataTable:ni["a"],VDialog:Dt["a"],VFlex:T["a"],VLayout:O["a"],VPagination:fe["a"],VProgressLinear:ft["a"],VSnackbar:M["a"],VTextField:Pt["a"],VToolbar:H["a"]});var qi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"invoice"},[a("v-snackbar",{attrs:{color:t.color,timeout:6e3,top:"top"===t.y},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n      "+t._s(t.message)+"\n  ")]),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.loadingDialog.loading,callback:function(e){t.$set(t.loadingDialog,"loading",e)},expression:"loadingDialog.loading"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n        "+t._s(t.loadingDialog.message)+"\n        "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),a("v-container",{staticClass:"my-5"},[a("span",{staticClass:"title"},[t._v("Health Workers")]),a("v-layout",{attrs:{row:"","justify-right":""}},[a("v-flex",{attrs:{sm12:"",md6:""}},[a("v-layout",{attrs:{row:"",wrap:""}})],1),a("v-flex",{attrs:{sm12:"",md6:"","offset-md2":"","text-xs-right":""}},[a("v-toolbar",{attrs:{dense:"",floating:""}},[a("v-text-field",{attrs:{"hide-details":"","prepend-icon":"search","single-line":"",label:"Search"},on:{keyup:function(e){return"keyCode"in e&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.initialize()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.item,loading:t.loader,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.users.first_name)+" "+t._s(e.item.users.last_name))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.worker_category.name))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.worker_sub_category.name))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.residence))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.licence_number))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.experience_years)+" yrs")]),a("td",{staticClass:"justify-center layout px-0"},[1===e.item.verified?a("v-btn",{attrs:{outline:"",small:"",title:"Verified",color:"blue",flat:""}},[t._v("\n        Verified \n          "),a("v-icon",{attrs:{right:"",dark:""}},[t._v("done")])],1):t._e(),0===e.item.verified?a("v-btn",{attrs:{outline:"",small:"",title:"verify",color:"teal",flat:""},on:{click:function(a){return t.verifyworker(e.item)}}},[t._v("\n          Verify\n          "),a("v-icon",{attrs:{right:"",dark:""}},[t._v("check")])],1):t._e()],1)]}}])}),t.length?a("div",{staticClass:"text-xs-center"},[a("v-pagination",{attrs:{length:t.length,"total-visible":t.pagination.visible,circle:""},on:{input:t.initialize},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1):t._e()],1)],1)},Pi=[],Vi={data:function(){return{search:"",query:"",snackbar:!1,message:"",y:"top",color:"success",valid:!0,delete:!1,loader:!1,loading:!1,loadingDialog:{loading:!1,message:""},dialog:!1,productDialog:!1,invoice:{patient:"",number:"",reference:"",date:null,due:null},inputRules:[function(t){return t.length>=!t||"Field is required"}],headers:[{text:"Name",align:"left",value:"first_name"},{text:"Category",align:"left",value:"name"},{text:"Specialiation",align:"left",value:"name"},{text:"Residence",align:"left",value:"residence"},{text:"License No",align:"left",value:"licence_number"},{text:"Experience",align:"left",value:"experience"},{text:"Actions",align:"center",value:"actions"}],item:[],categories:[],healthworkers:[],editedIndex:-1,category:{name:"",description:""},editedItem:{category:"",item_code:"",description:"",unit_price:""},defaultItem:{category:"",item_code:"",description:"",unit_price:""},pagination:{page:1,per_page:0,total:0,visible:10}}},created:function(){this.initialize()},methods:{loadingMethod:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.loadingDialog.loading=t,this.loadingDialog.message=e},initialize:function(){var t=this;this.loader=!0,this.query="page="+this.pagination.page,""!=this.search&&(this.query=this.query+"&search="+this.search),k({url:"/api/healthworkers?"+this.query,method:"GET"}).then((function(e){console.log("item is",e),t.item=e,console.log("hii ni ",t.item),t.loader=!1,t.pagination.total=e.total,t.pagination.per_page=e.per_page})).catch((function(t){console.log(t.response)}))},close:function(){this.productDialog=!1,this.saving||this.resetDialogReferences()},editItem:function(t){this.editedIndex=this.item.indexOf(t),this.editedItem=Jt()({},t),this.productDialog=!0},resetDialogReferences:function(){this.editedItem=Jt()({},this.defaultItem),this.editedIndex=-1},save:function(){var t=this;this.saving=!0,this.editedIndex>-1?(this.loadingMethod(!0,"Updating Chargesheet"),this.$refs.productform.validate()&&(this.loading=!0,k({url:"/api/item/"+this.editedItem.id,data:this.editedItem,method:"PUT"}).then((function(e){t.loading=!1,Jt()(t.item[t.editedIndex],t.editedItem),console.log(e),t.productDialog=!1,t.resetDialogReferences(),t.saving=!1,t.message="Patient Information Updated Succesfully",t.snackbar=!0,t.loadingMethod(!1)})).catch((function(e){t.loading=!1,console.log(e.response),t.loadingMethod(!1)})),this.close())):(this.loadingMethod(!0,"Adding Chargesheet Entry"),this.$refs.productform.validate()&&(this.loading=!0,k({url:"/api/item",data:this.editedItem,method:"POST"}).then((function(e){t.loading=!1,t.item.push(e),console.log(t.editedItem),t.productDialog=!1,t.resetDialogReferences(),t.saving=!1,t.message="Item Added Succesfully",t.snackbar=!0,t.loadingMethod(!1)})).catch((function(e){t.loading=!1,console.log(e.response),t.loadingMethod(!1)})),this.close()))},verifyworker:function(t){var e=this,a=this.item.indexOf(t);this.item.splice(a,1),k({url:"/api/verify/"+t.id_number,method:"GET"}).then((function(a){console.log("THE RESP IS",e.item.indexOf(t)),e.message="Worker Verified Succesfully",e.snackbar=!0})).catch((function(t){e.loading=!1,console.log(t.response),e.loadingMethod(!1)}))},deleteItem:function(t){if(confirm("Are you sure you want to delete this item?")&&(this.delete=!0),this.delete){var e=this.item.indexOf(t);this.item.splice(e,1),k({url:"/api/item/"+t.id,method:"DELETE"}).then((function(t){console.log(t)})).catch((function(t){console.log(t.response)}))}},saveCategory:function(){var t=this;this.$refs.form.validate()&&(this.loadingMethod(!0,"Posting Category"),this.loading=!0,k({url:"/api/item-category",data:this.category,method:"POST"}).then((function(e){t.loading=!1,t.saving=!1,t.categories.push(e),t.dialog=!1,t.message="Category Added Succesfully",t.snackbar=!0,t.loadingMethod(!1)})).catch((function(e){t.loading=!1,console.log(e.response),t.loadingMethod(!1)})),this.close())}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"},length:function(){return Math.ceil(this.pagination.total/this.pagination.per_page)}}},Ri=Vi,Ti=Object(C["a"])(Ri,qi,Pi,!1,null,null,null),Si=Ti.exports;I()(Ti,{VBtn:V["a"],VCard:yt["a"],VCardText:wt["b"],VContainer:Wt["a"],VDataTable:ni["a"],VDialog:Dt["a"],VFlex:T["a"],VIcon:S["a"],VLayout:O["a"],VPagination:fe["a"],VProgressLinear:ft["a"],VSnackbar:M["a"],VTextField:Pt["a"],VToolbar:H["a"]});var Oi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"invoice"},[a("v-snackbar",{attrs:{color:t.color,timeout:6e3,top:"top"===t.y},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n      "+t._s(t.message)+"\n  ")]),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.loadingDialog.loading,callback:function(e){t.$set(t.loadingDialog,"loading",e)},expression:"loadingDialog.loading"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n        "+t._s(t.loadingDialog.message)+"\n        "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),a("v-container",{staticClass:"my-5"},[a("span",{staticClass:"title"},[t._v("Workers Ratings")]),a("v-layout",{attrs:{row:"","justify-right":""}},[a("v-flex",{attrs:{sm12:"",md6:""}},[a("v-layout",{attrs:{row:"",wrap:""}})],1),a("v-flex",{attrs:{sm12:"",md6:"","offset-md2":"","text-xs-right":""}},[a("v-toolbar",{attrs:{dense:"",floating:""}},[a("v-text-field",{attrs:{"hide-details":"","prepend-icon":"search","single-line":"",label:"Search"},on:{keyup:function(e){return"keyCode"in e&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.initialize()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.ratings,loading:t.loader,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.client.first_name)+" "+t._s(e.item.client.last_name))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.worker.first_name)+" "+t._s(e.item.worker.last_name))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.worker.email))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.worker.phone_no))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.rating))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.comment))])]}}])}),t.length?a("div",{staticClass:"text-xs-center"},[a("v-pagination",{attrs:{length:t.length,"total-visible":t.pagination.visible,circle:""},on:{input:t.initialize},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1):t._e()],1)],1)},Ei=[],$i={data:function(){return{search:"",query:"",snackbar:!1,message:"",y:"top",color:"success",valid:!0,delete:!1,loader:!1,loading:!1,loadingDialog:{loading:!1,message:""},dialog:!1,productDialog:!1,invoice:{patient:"",number:"",reference:"",date:null,due:null},inputRules:[function(t){return t.length>=!t||"Field is required"}],headers:[{text:"Client Name",align:"left",value:"first_name"},{text:"Employee Name",align:"left",value:"first_name"},{text:"Email",align:"left",value:"name"},{text:"Phone No.",align:"left",value:"name"},{text:"Average Rating /5",align:"left",value:"rating"},{text:"Comment",align:"left",value:"comment"}],item:[],categories:[],ratings:[],editedIndex:-1,category:{name:"",description:""},editedItem:{category:"",item_code:"",description:"",unit_price:""},defaultItem:{category:"",item_code:"",description:"",unit_price:""},pagination:{page:1,per_page:0,total:0,visible:10}}},created:function(){this.initialize()},methods:{loadingMethod:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.loadingDialog.loading=t,this.loadingDialog.message=e},initialize:function(){var t=this;this.loader=!0,this.query="page="+this.pagination.page,""!=this.search&&(this.query=this.query+"&search="+this.search),k({url:"/api/ratings?"+this.query,method:"GET"}).then((function(e){console.log("item is",e),t.ratings=e,t.loader=!1,t.pagination.total=e.total,t.pagination.per_page=e.per_page})).catch((function(t){console.log(t.response)}))},close:function(){this.productDialog=!1,this.saving||this.resetDialogReferences()},editItem:function(t){this.editedIndex=this.item.indexOf(t),this.editedItem=Jt()({},t),this.productDialog=!0},resetDialogReferences:function(){this.editedItem=Jt()({},this.defaultItem),this.editedIndex=-1},save:function(){var t=this;this.saving=!0,this.editedIndex>-1?(this.loadingMethod(!0,"Updating Chargesheet"),this.$refs.productform.validate()&&(this.loading=!0,k({url:"/api/item/"+this.editedItem.id,data:this.editedItem,method:"PUT"}).then((function(e){t.loading=!1,Jt()(t.item[t.editedIndex],t.editedItem),console.log(e),t.productDialog=!1,t.resetDialogReferences(),t.saving=!1,t.message="Patient Information Updated Succesfully",t.snackbar=!0,t.loadingMethod(!1)})).catch((function(e){t.loading=!1,console.log(e.response),t.loadingMethod(!1)})),this.close())):(this.loadingMethod(!0,"Adding Chargesheet Entry"),this.$refs.productform.validate()&&(this.loading=!0,k({url:"/api/item",data:this.editedItem,method:"POST"}).then((function(e){t.loading=!1,t.item.push(e),console.log(t.editedItem),t.productDialog=!1,t.resetDialogReferences(),t.saving=!1,t.message="Item Added Succesfully",t.snackbar=!0,t.loadingMethod(!1)})).catch((function(e){t.loading=!1,console.log(e.response),t.loadingMethod(!1)})),this.close()))},deleteItem:function(t){if(confirm("Are you sure you want to delete this item?")&&(this.delete=!0),this.delete){var e=this.item.indexOf(t);this.item.splice(e,1),k({url:"/api/item/"+t.id,method:"DELETE"}).then((function(t){console.log(t)})).catch((function(t){console.log(t.response)}))}},saveCategory:function(){var t=this;this.$refs.form.validate()&&(this.loadingMethod(!0,"Posting Category"),this.loading=!0,k({url:"/api/item-category",data:this.category,method:"POST"}).then((function(e){t.loading=!1,t.saving=!1,t.categories.push(e),t.dialog=!1,t.message="Category Added Succesfully",t.snackbar=!0,t.loadingMethod(!1)})).catch((function(e){t.loading=!1,console.log(e.response),t.loadingMethod(!1)})),this.close())}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"},length:function(){return Math.ceil(this.pagination.total/this.pagination.per_page)}}},ji=$i,Ui=Object(C["a"])(ji,Oi,Ei,!1,null,null,null),Li=Ui.exports;I()(Ui,{VCard:yt["a"],VCardText:wt["b"],VContainer:Wt["a"],VDataTable:ni["a"],VDialog:Dt["a"],VFlex:T["a"],VLayout:O["a"],VPagination:fe["a"],VProgressLinear:ft["a"],VSnackbar:M["a"],VTextField:Pt["a"],VToolbar:H["a"]});var Ai=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"invoice"},[a("v-container",{staticClass:"my-5"},[a("span",{staticClass:"title"},[t._v("Permissions")]),a("v-layout",{attrs:{row:"","justify-right":""}},[a("v-flex",{attrs:{sm12:"",md6:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{sm12:"",md6:""}})],1)],1),a("v-flex",{attrs:{sm12:"",md6:"","offset-md2":"","text-xs-right":""}},[a("v-toolbar",{attrs:{dense:"",floating:""}},[a("v-text-field",{attrs:{"hide-details":"","prepend-icon":"search",outline:"",label:"Search"},on:{keyup:function(e){return"keyCode"in e&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.initialize()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{"hide-actions":"",headers:t.headers,items:t.permissions,loading:t.loader},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",{key:e.item.id},[a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.display_name))]),t._l(t.roles,(function(i){return a("td",{key:i.id},[a("v-checkbox",{attrs:{value:t.getAssignment(e.item,i)},on:{click:function(a){return t.toggleAssignment(e.item,i)}},model:{value:t.permissionRoleIds,callback:function(e){t.permissionRoleIds=e},expression:"permissionRoleIds"}})],1)}))],2)]}}])}),t.length?a("div",{staticClass:"text-xs-center"},[a("v-pagination",{attrs:{length:t.length,"total-visible":t.pagination.visible,circle:""},on:{input:t.initialize},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1):t._e()],1)],1)},Fi=[],Mi=(a("6762"),a("2fdb"),a("2ef0")),zi=a.n(Mi),Hi={name:"Permissions",data:function(){return{valid:!0,search:"",query:"",loader:!1,headers:[{text:"Permissions",value:"permissions"}],pagination:{page:1,per_page:0,total:0,visible:10},items:[{text:"Dashboard",to:{name:"dashboard"}},{text:"Access Control",to:{name:"accesscontrol"}},{text:"Permission",to:{name:"Permission"}}],permissionsroles:[],permissionRoleIds:[],permissions:[],roles:[]}},computed:{length:function(){return Math.ceil(this.pagination.total/this.pagination.per_page)}},beforeCreate:function(){var t=this;k({url:"/api/role",method:"GET"}).then((function(e){console.log(e),t.roles=e;for(var a=0;a<e.length;a++)t.headers.push({text:e[a].name,value:e[a].name})})).catch((function(t){console.log(t.response)})),k({url:"/api/permissionrole",method:"GET"}).then((function(e){console.log(e),t.permissionsroles=e,t.permissionRoleIds=zi.a.map(t.permissionsroles,"id")})).catch((function(t){console.log(t.response)}))},created:function(){this.initialize()},methods:{initialize:function(){var t=this;this.loader=!0,this.query="page="+this.pagination.page,""!=this.search&&(this.query=this.query+"&search="+this.search),k({url:"/api/permission?"+this.query,method:"GET"}).then((function(e){console.log(e.data),t.permissions=e.data,t.loader=!1,t.pagination.total=e.total,t.pagination.per_page=e.per_page})).catch((function(t){console.log(t.response)}))},getAssignment:function(t,e){for(var a=0,i=this.permissionsroles.length-1;i>=0;i--){if(t.id==this.permissionsroles[i].permission_id&&e.id==this.permissionsroles[i].role_id){a=this.permissionsroles[i].id;break}a=t.id+"_"+e.id}return a},toggleAssignment:function(t,e){var a=this;this.query="permission_id="+t.id+"&&role_id="+e.id;var i=this.getAssignment(t,e);zi.a.includes(this.permissionRoleIds,i)?(console.log("dettach permission-role"),k({url:"/api/permissionrole/detach?"+this.query,method:"GET"}).then((function(t){console.log(t),zi.a.remove(a.permissionRoleIds,(function(t){return t===i}))})).catch((function(t){console.log(t.response)}))):(console.log("attach permission-role"),k({url:"/api/permissionrole/attach?"+this.query,method:"GET"}).then((function(t){console.log(t),a.permissionRoleIds.push(t.id)})).catch((function(t){console.log(t.response)})))}}},Ni=Hi,Wi=a("ac7c"),Gi=Object(C["a"])(Ni,Ai,Fi,!1,null,null,null),Bi=Gi.exports;I()(Gi,{VCheckbox:Wi["a"],VContainer:Wt["a"],VDataTable:ni["a"],VFlex:T["a"],VLayout:O["a"],VPagination:fe["a"],VTextField:Pt["a"],VToolbar:H["a"]});var Qi,Yi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"invoice"},[a("v-snackbar",{attrs:{color:t.color,timeout:6e3,top:"top"===t.y},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n      "+t._s(t.message)+"\n  ")]),a("v-container"),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.loadingDialog.loading,callback:function(e){t.$set(t.loadingDialog,"loading",e)},expression:"loadingDialog.loading"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n        "+t._s(t.loadingDialog.message)+"\n        "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(t){t.on}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-toolbar",{staticClass:"elevation-0",attrs:{dark:"",color:"primary"}},[a("v-spacer"),a("v-toolbar-title",[t._v("New Role")]),a("v-spacer")],1),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{"single-line":"",rules:[function(t){return!!t||"Name is Required"},function(t){return/^[a-zA-Z\s]+$/.test(t)||"Name should have alphabetic chars only"}],label:"Name"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{round:"",outline:"",color:"blue lighten-1",flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("\n            Cancel\n            "),a("v-icon",{attrs:{right:"",dark:""}},[t._v("close")])],1),a("v-btn",{attrs:{round:"",outline:"",xs12:"",sm6:"",color:"primary darken-1",disabled:!t.valid},nativeOn:{click:function(e){return t.save(e)}}},[t._v("\n                Save "),a("v-icon",{attrs:{right:"",dark:""}},[t._v("cloud_upload")])],1)],1)],1)],1)],1),a("v-container",{staticClass:"my-5"},[a("span",{staticClass:"title"},[t._v("Roles")]),a("v-layout",{attrs:{row:"","justify-right":""}},[a("v-flex",{attrs:{sm12:"",md6:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{sm12:"",md6:""}},[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:"",outline:""},on:{click:function(e){t.dialog=!0}}},[t._v("Add Role\n                "),a("v-icon",{attrs:{right:"",dark:""}},[t._v("playlist_add")])],1)],1)],1)],1),a("v-flex",{attrs:{sm12:"",md6:"","offset-md2":"","text-xs-right":""}},[a("v-toolbar",{attrs:{dense:"",floating:""}},[a("v-text-field",{attrs:{"hide-details":"","prepend-icon":"search","single-line":"",label:"Search"},on:{keyup:function(e){return"keyCode"in e&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.initialize()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{"hide-actions":"",headers:t.headers,items:t.roles,loading:t.loader},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.name))]),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{attrs:{outline:"",small:"",title:"Edit",color:"teal",flat:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n          Edit\n          "),a("v-icon",{attrs:{right:"",dark:""}},[t._v("edit")])],1),a("v-btn",{attrs:{outline:"",small:"",title:"Delete",color:"pink",flat:""},on:{click:function(a){return t.deleteItem(e.item)}}},[t._v("\n          Delete\n          "),a("v-icon",{attrs:{right:"",dark:""}},[t._v("delete")])],1)],1)]}}])}),t.length?a("div",{staticClass:"text-xs-center"},[a("v-pagination",{attrs:{length:t.length,"total-visible":t.pagination.visible,circle:""},on:{input:t.initialize},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1):t._e()],1)],1)},Ki=[],Zi={data:function(){return{search:"",query:"",snackbar:!1,message:"",y:"top",color:"success",valid:!0,delete:!1,loader:!1,loading:!1,loadingDialog:{loading:!1,message:""},dialog:!1,headers:[{text:"Name",value:"name"},{text:"Actions",value:"name",sortable:!1}],roles:[],editedIndex:-1,editedItem:{name:""},items:[{text:"Dashboard",to:{name:"dashboard"}},{text:"Access Control",to:{name:"accesscontrol"}},{text:"Role",to:{name:"Role"}}],defaultItem:{name:""},pagination:{page:1,per_page:0,total:0,visible:10}}},created:function(){this.initialize()},methods:(Qi={loadingMethod:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.loadingDialog.loading=t,this.loadingDialog.message=e},initialize:function(){var t=this;this.loader=!0,this.query="page="+this.pagination.page,""!=this.search&&(this.query=this.query+"&search="+this.search),k({url:"/api/role?"+this.query,method:"GET"}).then((function(e){console.log(e),t.roles=e,t.loader=!1,t.pagination.total=e.total,t.pagination.per_page=e.per_page})).catch((function(t){console.log(t.response)}))},close:function(){this.dialog=!1,this.saving||this.resetDialogReferences()},editItem:function(t){this.editedIndex=this.roles.indexOf(t),this.editedItem=Jt()({},t),this.dialog=!0},deleteItem:function(t){if(confirm("Are you sure you want to delete this item?")&&(this.delete=!0),this.delete){var e=this.roles.indexOf(t);this.roles.splice(e,1),k({url:"/api/role/"+t.id,method:"DELETE"}).then((function(t){console.log(t)})).catch((function(t){console.log(t.response)}))}},resetDialogReferences:function(){this.editedItem=Jt()({},this.defaultItem),this.editedIndex=-1}},Object(Y["a"])(Qi,"resetDialogReferences",(function(){this.editedItem=Jt()({},this.defaultItem),this.editedIndex=-1})),Object(Y["a"])(Qi,"save",(function(){var t=this;this.saving=!0,this.editedIndex>-1?this.$refs.form.validate()&&(k({url:"/api/role/"+this.editedItem.id,data:this.editedItem,method:"PUT"}).then((function(e){Jt()(t.roles[t.editedIndex],t.editedItem),console.log(e),t.resetDialogReferences(),t.saving=!1,t.message="Role Updated Succesfully",t.snackbar=!0})).catch((function(t){console.log(t.response)})),this.close()):this.$refs.form.validate()&&(k({url:"/api/role",data:this.editedItem,method:"POST"}).then((function(e){t.roles.push(e),console.log(e),t.resetDialogReferences(),t.saving=!1,t.message="New Role Added Succesfully",t.snackbar=!0})).catch((function(t){console.log(t.response)})),this.close())})),Qi),computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"},length:function(){return Math.ceil(this.pagination.total/this.pagination.per_page)}}},Ji=Zi,Xi=Object(C["a"])(Ji,Yi,Ki,!1,null,null,null),ts=Xi.exports;I()(Xi,{VBtn:V["a"],VCard:yt["a"],VCardActions:wt["a"],VCardText:wt["b"],VContainer:Wt["a"],VDataTable:ni["a"],VDialog:Dt["a"],VFlex:T["a"],VForm:It["a"],VIcon:S["a"],VLayout:O["a"],VPagination:fe["a"],VProgressLinear:ft["a"],VSnackbar:M["a"],VSpacer:z["a"],VTextField:Pt["a"],VToolbar:H["a"],VToolbarTitle:N["b"]});var es=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"invoice"},[a("v-container",{staticClass:"my-5"},[a("span",{staticClass:"title"},[t._v("Assign Role")]),a("v-layout",{attrs:{row:"","justify-right":""}},[a("v-flex",{attrs:{sm12:"",md6:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{sm12:"",md6:""}})],1)],1),a("v-flex",{attrs:{sm12:"",md6:"","offset-md2":"","text-xs-right":""}},[a("v-toolbar",{attrs:{dense:"",floating:""}},[a("v-text-field",{attrs:{"hide-details":"","prepend-icon":"search","single-line":"",label:"Search"},on:{keyup:function(e){return"keyCode"in e&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.initialize()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{"hide-actions":"",headers:t.headers,items:t.users,loading:t.loader},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",{key:e.item.id},[a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.first_name)+" "+t._s(e.item.last_name))]),t._l(t.roles,(function(i){return a("td",{key:i.id},[a("v-checkbox",{attrs:{value:t.getAssignment(e.item,i)},on:{click:function(a){return t.toggleAssignment(e.item,i)}},model:{value:t.roleUserIds,callback:function(e){t.roleUserIds=e},expression:"roleUserIds"}})],1)}))],2)]}}])}),t.length?a("div",{staticClass:"text-xs-center"},[a("v-pagination",{attrs:{length:t.length,"total-visible":t.pagination.visible,circle:""},on:{input:t.initialize},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1):t._e()],1)],1)},as=[],is={name:"RoleUser",data:function(){return{valid:!0,search:"",query:"",headers:[{text:"Users",value:"users"}],pagination:{page:1,per_page:0,total:0,visible:10},items:[{text:"Dashboard",to:{name:"dashboard"}},{text:"Access Control",to:{name:"accesscontrol"}},{text:"Assign Role",to:{name:"RoleUser"}}],rolesusers:[],roleUserIds:[],users:[],roles:[]}},computed:{length:function(){return Math.ceil(this.pagination.total/this.pagination.per_page)}},beforeCreate:function(){var t=this;k({url:"/api/role",method:"GET"}).then((function(e){console.log(e),t.roles=e;for(var a=0;a<e.length;a++)t.headers.push({text:e[a].name,value:e[a].name})})).catch((function(t){console.log(t.response)})),k({url:"/api/roleuser",method:"GET"}).then((function(e){console.log(e),t.rolesusers=e,t.roleUserIds=zi.a.map(t.rolesusers,"id")})).catch((function(t){console.log(t.response)}))},created:function(){this.initialize()},methods:{initialize:function(){var t=this;this.loader=!0,this.query="page="+this.pagination.page,""!=this.search&&(this.query=this.query+"&search="+this.search),k({url:"/api/user?"+this.query,method:"GET"}).then((function(e){console.log(e.data),t.users=e.data,t.loader=!1,t.pagination.per_page=e.per_page,t.pagination.total=e.total})).catch((function(t){console.log(t.response)}))},getAssignment:function(t,e){for(var a=0,i=this.rolesusers.length-1;i>=0;i--){if(t.id==this.rolesusers[i].user_id&&e.id==this.rolesusers[i].role_id){a=this.rolesusers[i].id;break}a=t.id+"_"+e.id}return a},toggleAssignment:function(t,e){var a=this;this.query="user_id="+t.id+"&&role_id="+e.id;var i=this.getAssignment(t,e);zi.a.includes(this.roleUserIds,i)?(console.log("dettach role-user"),k({url:"/api/roleuser/detach?"+this.query,method:"GET"}).then((function(t){console.log(t),zi.a.remove(a.roleUserIds,(function(t){return t===i}))})).catch((function(t){console.log(t.response)}))):(console.log("attach role-user"),k({url:"/api/roleuser/attach?"+this.query,method:"GET"}).then((function(t){console.log(t);var e=a.roleUserIds;e.push(t.id),Vue.set(a,"roleUserIds",e)})).catch((function(t){console.log(t.response)})))}}},ss=is,rs=Object(C["a"])(ss,es,as,!1,null,null,null),ns=rs.exports;I()(rs,{VCheckbox:Wi["a"],VContainer:Wt["a"],VDataTable:ni["a"],VFlex:T["a"],VLayout:O["a"],VPagination:fe["a"],VTextField:Pt["a"],VToolbar:H["a"]});var os,ls=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"invoice"},[a("v-snackbar",{attrs:{color:t.color,timeout:6e3,top:"top"===t.y},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n    "+t._s(t.message)+"\n  ")]),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.loadingDialog.loading,callback:function(e){t.$set(t.loadingDialog,"loading",e)},expression:"loadingDialog.loading"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n        "+t._s(t.loadingDialog.message)+"\n        "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(t){t.on}}]),model:{value:t.facilitydialog,callback:function(e){t.facilitydialog=e},expression:"facilitydialog"}},[a("v-card",[a("v-toolbar",{staticClass:"elevation-0",attrs:{dark:"",color:"primary"}},[a("v-spacer"),a("v-toolbar-title",[t._v("Add Facility Level")]),a("v-spacer")],1),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{outline:"",rules:[function(t){return!!t||"Facility Name is Required"}],label:"Facility Level"},model:{value:t.facility.name,callback:function(e){t.$set(t.facility,"name",e)},expression:"facility.name"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{round:"",outline:"",color:"blue lighten-1",flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("\n    Cancel\n    "),a("v-icon",{attrs:{right:"",dark:""}},[t._v("close")])],1),a("v-btn",{attrs:{round:"",outline:"",xs12:"",sm6:"",color:"primary darken-1",disabled:!t.valid},nativeOn:{click:function(e){return t.saveLevel(e)}}},[t._v("\n    Save "),a("v-icon",{attrs:{right:"",dark:""}},[t._v("cloud_upload")])],1)],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(t){t.on}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-toolbar",{staticClass:"elevation-0",attrs:{dark:"",color:"primary"}},[a("v-spacer"),a("v-toolbar-title",[t._v("Add Facility")]),a("v-spacer")],1),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-select",{attrs:{items:t.users,"item-text":"profile.fname","item-value":"id",label:"Contact Person",outline:""},model:{value:t.editedItem.user_id,callback:function(e){t.$set(t.editedItem,"user_id",e)},expression:"editedItem.user_id"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{outline:"",rules:[function(t){return!!t||"Facility Name is Required"}],label:"Facility Name"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{outline:"",rules:[function(t){return!!t||"Facility type is Required"}],label:"Facility Type"},model:{value:t.editedItem.facility_type,callback:function(e){t.$set(t.editedItem,"facility_type",e)},expression:"editedItem.facility_type"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{outline:"",rules:[function(t){return!!t||"Facility level is Required"}],label:"Email Address"},model:{value:t.editedItem.facility_level,callback:function(e){t.$set(t.editedItem,"facility_level",e)},expression:"editedItem.facility_level"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{outline:"",rules:[function(t){return!!t||"License number is Required"}],label:"License Number"},model:{value:t.editedItem.license_number,callback:function(e){t.$set(t.editedItem,"license_number",e)},expression:"editedItem.license_number"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{round:"",outline:"",color:"blue lighten-1",flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("\n    Cancel\n    "),a("v-icon",{attrs:{right:"",dark:""}},[t._v("close")])],1),a("v-btn",{attrs:{round:"",outline:"",xs12:"",sm6:"",color:"primary darken-1",disabled:!t.valid},nativeOn:{click:function(e){return t.save(e)}}},[t._v("\n    Save "),a("v-icon",{attrs:{right:"",dark:""}},[t._v("cloud_upload")])],1)],1)],1)],1)],1),a("v-container",{staticClass:"my-5"},[a("span",{staticClass:"title"},[t._v("Facilities")]),a("v-layout",{attrs:{row:"","justify-right":""}},[a("v-flex",{attrs:{sm12:"",md6:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{sm12:"",md6:""}},[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:"",outline:""},on:{click:function(e){t.dialog=!0}}},[t._v("Add Facility\n            "),a("v-icon",{attrs:{right:"",dark:""}},[t._v("playlist_add")])],1)],1),a("v-flex",{attrs:{sm12:"",md6:""}},[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:"",outline:""},on:{click:function(e){t.facilitydialog=!0}}},[t._v("Add Facility Level\n            "),a("v-icon",{attrs:{right:"",dark:""}},[t._v("playlist_add")])],1)],1)],1)],1),a("v-flex",{attrs:{sm12:"",md6:"","offset-md2":"","text-xs-right":""}},[a("v-toolbar",{attrs:{dense:"",floating:""}},[a("v-text-field",{attrs:{"hide-details":"","prepend-icon":"search","single-line":"",label:"Search"},on:{keyup:function(e){return"keyCode"in e&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.initialize()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1)],1),a("v-data-table",{staticClass:"elevation-1 mytable",attrs:{headers:t.headers,items:t.facility,loading:t.loader},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.user.profile.fname))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.name))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.phone_number))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.email))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.address))]),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{attrs:{outline:"",small:"",title:"Edit",color:"teal",flat:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n    Edit\n    "),a("v-icon",{attrs:{right:"",dark:""}},[t._v("edit")])],1),a("v-btn",{attrs:{outline:"",small:"",title:"Delete",color:"pink",flat:""},on:{click:function(a){return t.deleteItem(e.item)}}},[t._v("\n  Delete\n  "),a("v-icon",{attrs:{right:"",dark:""}},[t._v("delete")])],1)],1)]}}])}),t.length?a("div",{staticClass:"text-xs-center"},[a("v-pagination",{attrs:{length:t.length,"total-visible":t.pagination.visible,circle:""},on:{input:t.initialize},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1):t._e()],1)],1)},cs=[],ds={data:function(){var t,e;return{role:["Sales Agent","Admin","Retailer","Driver","Warehouse Manager"],search:"",query:"",snackbar:!1,message:"",y:"top",color:"blue",valid:!0,delete:!1,loader:!1,loading:!1,loadingDialog:{loading:!1,message:""},characters:"a-z,A-Z,0-9,#",showPasswordField:!1,dialog:!1,facilitydialog:!1,productDialog:!1,invoice:{patient:"",number:"",reference:"",date:null,due:null},inputRules:[function(t){return t.length>=!t||"Field is required"}],headers:[{text:"Id",align:"left",value:"id"},{text:"Contact Person",value:"user"},{text:"Facility Name",value:"name"},{text:"Facility Type",value:"phone_number"},{text:"Facility Level",value:"email"},{text:"License No",value:"address"},{text:"Actions",sortable:!1,value:"action"}],user:[],facility:[],editedIndex:-1,facility_level:{name:""},editedItem:(t={user_id:"",name:"",email:"",phone_number:"",address:""},Object(Y["a"])(t,"email",""),Object(Y["a"])(t,"postal_address",""),t),defaultItem:(e={user_id:"",name:"",email:"",phone_number:"",address:""},Object(Y["a"])(e,"email",""),Object(Y["a"])(e,"postal_address",""),e),pagination:{page:1,per_page:0,total:0,visible:10}}},created:function(){this.initialize()},methods:(os={loadingMethod:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.loadingDialog.loading=t,this.loadingDialog.message=e},initialize:function(){var t=this;this.loader=!0,this.query="page="+this.pagination.page,""!=this.search&&(this.query=this.query+"&search="+this.search),k({url:"/api/facilities?"+this.query,method:"GET"}).then((function(e){console.log(e),t.facility=e,t.loader=!1,t.pagination.per_page=e.per_page,t.pagination.total=e.total})).catch((function(t){console.log(t.response)})),k({url:"/api/user?"+this.query,method:"GET"}).then((function(e){console.log(e),t.users=e,t.loader=!1,t.pagination.per_page=e.per_page,t.pagination.total=e.total})).catch((function(t){console.log(t.response)}))},close:function(){this.dialog=!1,this.saving||this.resetDialogReferences()},editItem:function(t){this.editedIndex=this.user.indexOf(t),this.editedItem=Jt()({},t),this.dialog=!0},resetDialogReferences:function(){this.editedItem=Jt()({},this.defaultItem),this.editedIndex=-1}},Object(Y["a"])(os,"resetDialogReferences",(function(){this.editedItem=Jt()({},this.defaultItem),this.editedIndex=-1})),Object(Y["a"])(os,"save",(function(){var t=this;this.saving=!0,this.editedIndex>-1?this.$refs.form.validate()&&(k({url:"/api/stores/"+this.editedItem.id,data:this.editedItem,method:"PUT"}).then((function(e){Jt()(t.user[t.editedIndex],t.editedItem),console.log(e),t.resetDialogReferences(),t.saving=!1,t.message="Stores Updated Succesfully",t.snackbar=!0})).catch((function(t){console.log(t.response)})),this.close()):this.$refs.form.validate()&&(k({url:"/api/facilities",data:this.editedItem,method:"POST"}).then((function(e){t.user.push(e),console.log(e),t.resetDialogReferences(),t.saving=!1,t.message=" Store Information Updated Succesfully",t.snackbar=!0})).catch((function(t){console.log(t.response)})),this.close())})),Object(Y["a"])(os,"saveLevel",(function(){var t=this;this.saving=!0,this.editedIndex>-1?this.$refs.form.validate()&&(k({url:"/api/facilities_level/"+this.facility_level.id,data:this.facility_level,method:"PUT"}).then((function(e){Jt()(t.roles[t.editedIndex],t.facility),console.log(e),t.resetDialogReferences(),t.saving=!1,t.message="Facility Level Updated Succesfully",t.snackbar=!0})).catch((function(t){console.log(t.response)})),this.close()):this.$refs.form.validate()&&(k({url:"/api/facilities_level",data:this.facility_level,method:"POST"}).then((function(e){t.roles.push(e),console.log(e),t.resetDialogReferences(),t.saving=!1,t.message="Facility Level Added Succesfully",t.snackbar=!0})).catch((function(t){console.log(t.response)})),this.close())})),Object(Y["a"])(os,"deleteItem",(function(t){if(confirm("Are you sure you want to delete this item?")&&(this.delete=!0),this.delete){var e=this.item.indexOf(t);this.item.splice(e,1),k({url:"/api/users/"+t.id,method:"DELETE"}).then((function(t){console.log(t)})).catch((function(t){console.log(t.response)}))}})),os),computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"},length:function(){return Math.ceil(this.pagination.total/this.pagination.per_page)}}},us=ds,vs=Object(C["a"])(us,ls,cs,!1,null,null,null),ms=vs.exports;I()(vs,{VBtn:V["a"],VCard:yt["a"],VCardActions:wt["a"],VCardText:wt["b"],VContainer:Wt["a"],VDataTable:ni["a"],VDialog:Dt["a"],VFlex:T["a"],VForm:It["a"],VIcon:S["a"],VLayout:O["a"],VPagination:fe["a"],VProgressLinear:ft["a"],VSelect:Gt["a"],VSnackbar:M["a"],VSpacer:z["a"],VTextField:Pt["a"],VToolbar:H["a"],VToolbarTitle:N["b"]});var ps,fs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"invoice"},[a("v-snackbar",{attrs:{color:t.color,timeout:6e3,top:"top"===t.y},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n      "+t._s(t.message)+"\n  ")]),a("v-container"),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.loadingDialog.loading,callback:function(e){t.$set(t.loadingDialog,"loading",e)},expression:"loadingDialog.loading"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n        "+t._s(t.loadingDialog.message)+"\n        "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(t){t.on}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-toolbar",{staticClass:"elevation-0",attrs:{dark:"",color:"primary"}},[a("v-spacer"),a("v-toolbar-title",[t._v("Add User")]),a("v-spacer")],1),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{"single-line":"",rules:[function(t){return!!t||"First name is Required"}],label:"First Name"},model:{value:t.editedItem.first_name,callback:function(e){t.$set(t.editedItem,"first_name",e)},expression:"editedItem.first_name"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{"single-line":"",rules:[function(t){return!!t||"Last name is Required"},function(t){return/^[a-zA-Z\s]+$/.test(t)||"Name should have alphabetic chars only"}],label:"Last Name"},model:{value:t.editedItem.last_name,callback:function(e){t.$set(t.editedItem,"last_name",e)},expression:"editedItem.last_name"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{"single-line":"",rules:[function(t){return!!t||"Email is Required"},function(t){return/.+@.+/.test(t)||"Email not valid"}],label:"Email Address"},model:{value:t.editedItem.email,callback:function(e){t.$set(t.editedItem,"email",e)},expression:"editedItem.email"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{"single-line":"",rules:[function(t){return!!t||"Phone no is Required"}],label:"Phone No."},model:{value:t.editedItem.phone_no,callback:function(e){t.$set(t.editedItem,"phone_no",e)},expression:"editedItem.phone_no"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-select",{staticClass:"text_field_2 mt-4",attrs:{rules:t.accountTypeRules,items:t.allRoles,"item-value":"id","item-text":"name","prepend-inner-icon":"how_to_reg",name:"accountType",label:"Account Type",required:"",outline:""},model:{value:t.editedItem.account_type,callback:function(e){t.$set(t.editedItem,"account_type",e)},expression:"editedItem.account_type"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{round:"",outline:"",color:"blue lighten-1",flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("\n            Cancel\n            "),a("v-icon",{attrs:{right:"",dark:""}},[t._v("close")])],1),a("v-btn",{attrs:{round:"",outline:"",xs12:"",sm6:"",color:"primary darken-1",disabled:!t.valid},nativeOn:{click:function(e){return t.save(e)}}},[t._v("\n                Save "),a("v-icon",{attrs:{right:"",dark:""}},[t._v("cloud_upload")])],1)],1)],1)],1)],1),a("v-container",{staticClass:"my-5"},[a("span",{staticClass:"title"},[t._v("Users")]),a("v-layout",{attrs:{row:"","justify-right":""}},[a("v-flex",{attrs:{sm12:"",md6:""}},[a("v-layout",{attrs:{row:"",wrap:""}})],1),a("v-flex",{attrs:{sm12:"",md6:"","offset-md2":"","text-xs-right":""}},[a("v-toolbar",{attrs:{dense:"",floating:""}},[a("v-text-field",{attrs:{"hide-details":"","prepend-icon":"search","single-line":"",label:"Search"},on:{keyup:function(e){return"keyCode"in e&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.initialize()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1)],1),a("v-data-table",{attrs:{"hide-actions":"",headers:t.headers,items:t.item,loading:t.loader,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.first_name)+" "+t._s(e.item.last_name))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.email))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.phone_no))])]}}])}),t.length?a("div",{staticClass:"text-xs-center"},[a("v-pagination",{attrs:{length:t.length,"total-visible":t.pagination.visible,circle:""},on:{input:t.initialize},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1):t._e()],1)],1)},gs=[],hs=(a("28a5"),{data:function(){return{allRoles:["Health Worker","Hospital","Private Individual","Admin"],search:"",query:"",snackbar:!1,message:"",y:"top",color:"success",valid:!0,delete:!1,loader:!1,loading:!1,loadingDialog:{loading:!1,message:""},dialog:!1,productDialog:!1,invoice:{patient:"",number:"",reference:"",date:null,due:null},inputRules:[function(t){return t.length>=!t||"Field is required"}],headers:[{text:"Name",value:"first_name"},{text:"Email Address",value:"email"},{text:"Phone",align:"left",value:"phone"}],user:[],item:[],editedIndex:-1,editedItem:{first_name:"",last_name:"",email:"",phone_no:"",account_type:""},items:[{text:"Dashboard",to:{name:"dashboard"}},{text:"Access Control",to:{name:"accesscontrol"}},{text:"User Account",to:{name:"UserAccount"}}],defaultItem:{first_name:"",last_name:"",email:"",phone_no:"",account_type:""},pagination:{page:1,per_page:0,total:0,visible:10}}},created:function(){this.initialize()},methods:(ps={loadingMethod:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.loadingDialog.loading=t,this.loadingDialog.message=e},initialize:function(){var t=this;this.loader=!0,this.query="page="+this.pagination.page,""!=this.search&&(this.query=this.query+"&search="+this.search),k({url:"/api/user?"+this.query,method:"GET"}).then((function(e){console.log(e),t.item=e,t.loader=!1})).catch((function(t){console.log(t.response)}))},close:function(){this.dialog=!1,this.saving||this.resetDialogReferences()},editItem:function(t){this.editedIndex=this.user.indexOf(t),this.editedItem=Jt()({},t),this.dialog=!0,console.log("My Edited Info",t)},resetDialogReferences:function(){this.editedItem=Jt()({},this.defaultItem),this.editedIndex=-1}},Object(Y["a"])(ps,"resetDialogReferences",(function(){this.editedItem=Jt()({},this.defaultItem),this.editedIndex=-1,this.showPasswordField=!1,this.password=""})),Object(Y["a"])(ps,"passordReset",(function(){this.showPasswordField?(this.showPasswordField=!1,this.password=""):this.showPasswordField=!0})),Object(Y["a"])(ps,"generate",(function(){var t=this.characters.split(","),e="",a="";t.indexOf("a-z")>=0&&(e+="abcdefghijklmnopqrstuvwxyz"),t.indexOf("A-Z")>=0&&(e+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"),t.indexOf("0-9")>=0&&(e+="0123456789"),t.indexOf("#")>=0&&(e+="![]{}()%&*$#^<>~@|");for(var i=0;i<this.size;i++)a+=e.charAt(Math.floor(Math.random()*e.length));this.password=a})),Object(Y["a"])(ps,"save",(function(){var t=this;this.saving=!0,this.editedIndex>-1?this.$refs.form.validate()&&(this.showPasswordField&&(this.editedItem.adminPasswordChange=!0,this.editedItem.password=this.password),k({url:"/api/user/"+this.editedItem.id,data:this.editedItem,method:"PUT"}).then((function(e){Jt()(t.user[t.editedIndex],t.editedItem),console.log(e),t.resetDialogReferences(),t.saving=!1,t.message="User Information Updated Succesfully",t.snackbar=!0})).catch((function(t){console.log(t.response)})),this.close()):this.$refs.form.validate()&&(k({url:"/api/user",data:this.editedItem,method:"POST"}).then((function(e){t.user.push(e),console.log(e),t.resetDialogReferences(),t.saving=!1,t.message="New User Added Succesfully",t.snackbar=!0})).catch((function(t){console.log(t.response)})),this.close())})),Object(Y["a"])(ps,"deleteItem",(function(t){if(confirm("Are you sure you want to delete this item?")&&(this.delete=!0),this.delete){var e=this.item.indexOf(t);this.item.splice(e,1),k({url:"/api/user/"+t.id,method:"DELETE"}).then((function(t){console.log(t)})).catch((function(t){console.log(t.response)}))}})),ps),computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"},length:function(){return Math.ceil(this.pagination.total/this.pagination.per_page)}}}),_s=hs,xs=Object(C["a"])(_s,fs,gs,!1,null,null,null),bs=xs.exports;I()(xs,{VBtn:V["a"],VCard:yt["a"],VCardActions:wt["a"],VCardText:wt["b"],VContainer:Wt["a"],VDataTable:ni["a"],VDialog:Dt["a"],VFlex:T["a"],VForm:It["a"],VIcon:S["a"],VLayout:O["a"],VPagination:fe["a"],VProgressLinear:ft["a"],VSelect:Gt["a"],VSnackbar:M["a"],VSpacer:z["a"],VTextField:Pt["a"],VToolbar:H["a"],VToolbarTitle:N["b"]});var ks,ys=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"invoice"},[a("v-snackbar",{attrs:{color:t.color,timeout:6e3,top:"top"===t.y},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n      "+t._s(t.message)+"\n  ")]),a("v-container"),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.loadingDialog.loading,callback:function(e){t.$set(t.loadingDialog,"loading",e)},expression:"loadingDialog.loading"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n        "+t._s(t.loadingDialog.message)+"\n        "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(t){t.on}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-toolbar",{staticClass:"elevation-0",attrs:{dark:"",color:"primary"}},[a("v-spacer"),a("v-toolbar-title",[t._v("Add User")]),a("v-spacer")],1),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{"single-line":"",rules:[function(t){return!!t||"First name is Required"}],label:"First Name"},model:{value:t.editedItem.first_name,callback:function(e){t.$set(t.editedItem,"first_name",e)},expression:"editedItem.first_name"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{"single-line":"",rules:[function(t){return!!t||"Last name is Required"},function(t){return/^[a-zA-Z\s]+$/.test(t)||"Name should have alphabetic chars only"}],label:"Last Name"},model:{value:t.editedItem.last_name,callback:function(e){t.$set(t.editedItem,"last_name",e)},expression:"editedItem.last_name"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{"single-line":"",rules:[function(t){return!!t||"Email is Required"},function(t){return/.+@.+/.test(t)||"Email not valid"}],label:"Email Address"},model:{value:t.editedItem.email,callback:function(e){t.$set(t.editedItem,"email",e)},expression:"editedItem.email"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{"single-line":"",rules:[function(t){return!!t||"Phone no is Required"}],label:"Phone No."},model:{value:t.editedItem.phone_no,callback:function(e){t.$set(t.editedItem,"phone_no",e)},expression:"editedItem.phone_no"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-select",{staticClass:"text_field_2 mt-4",attrs:{rules:t.accountTypeRules,items:t.allRoles,"item-value":"id","item-text":"name","prepend-inner-icon":"how_to_reg",name:"accountType",label:"Account Type",required:"",outline:""},model:{value:t.editedItem.account_type,callback:function(e){t.$set(t.editedItem,"account_type",e)},expression:"editedItem.account_type"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{round:"",outline:"",color:"blue lighten-1",flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("\n            Cancel\n            "),a("v-icon",{attrs:{right:"",dark:""}},[t._v("close")])],1),a("v-btn",{attrs:{round:"",outline:"",xs12:"",sm6:"",color:"primary darken-1",disabled:!t.valid},nativeOn:{click:function(e){return t.save(e)}}},[t._v("\n                Save "),a("v-icon",{attrs:{right:"",dark:""}},[t._v("cloud_upload")])],1)],1)],1)],1)],1),a("v-container",{staticClass:"my-5"},[a("span",{staticClass:"title"},[t._v("Users")]),a("v-layout",{attrs:{row:"","justify-right":""}},[a("v-flex",{attrs:{sm12:"",md6:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{sm12:"",md6:""}},[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:"",outline:""},on:{click:function(e){t.dialog=!0}}},[t._v("Add User\n                "),a("v-icon",{attrs:{right:"",dark:""}},[t._v("playlist_add")])],1)],1)],1)],1),a("v-flex",{attrs:{sm12:"",md6:"","offset-md2":"","text-xs-right":""}},[a("v-toolbar",{attrs:{dense:"",floating:""}},[a("v-text-field",{attrs:{"hide-details":"","prepend-icon":"search","single-line":"",label:"Search"},on:{keyup:function(e){return"keyCode"in e&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.initialize()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1)],1),a("v-data-table",{attrs:{"hide-actions":"",headers:t.headers,items:t.user,loading:t.loader,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.first_name)+" "+t._s(e.item.last_name))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.email))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.phone_no))]),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{attrs:{outline:"",small:"",title:"Edit",color:"teal",flat:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n          Edit\n          "),a("v-icon",{attrs:{right:"",dark:""}},[t._v("edit")])],1),a("v-btn",{attrs:{outline:"",small:"",title:"Delete",color:"pink",flat:""},on:{click:function(a){return t.deleteItem(e.item)}}},[t._v("\n          Delete\n          "),a("v-icon",{attrs:{right:"",dark:""}},[t._v("delete")])],1)],1)]}}])}),t.length?a("div",{staticClass:"text-xs-center"},[a("v-pagination",{attrs:{length:t.length,"total-visible":t.pagination.visible,circle:""},on:{input:t.initialize},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1):t._e()],1)],1)},ws=[],Cs={data:function(){return{allRoles:["Health Worker","Hospital","Private Individual","Admin"],search:"",query:"",snackbar:!1,message:"",y:"top",color:"success",valid:!0,delete:!1,loader:!1,loading:!1,loadingDialog:{loading:!1,message:""},dialog:!1,productDialog:!1,invoice:{patient:"",number:"",reference:"",date:null,due:null},inputRules:[function(t){return t.length>=!t||"Field is required"}],headers:[{text:"Name",value:"first_name"},{text:"Email Address",value:"email"},{text:"Phone",align:"left",value:"phone"},{text:"Actions",sortable:!1,value:"action"}],user:[],editedIndex:-1,editedItem:{first_name:"",last_name:"",email:"",phone_no:"",account_type:""},items:[{text:"Dashboard",to:{name:"dashboard"}},{text:"Access Control",to:{name:"accesscontrol"}},{text:"User Account",to:{name:"UserAccount"}}],defaultItem:{first_name:"",last_name:"",email:"",phone_no:"",account_type:""},pagination:{page:1,per_page:0,total:0,visible:10}}},created:function(){this.initialize()},methods:(ks={loadingMethod:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.loadingDialog.loading=t,this.loadingDialog.message=e},initialize:function(){var t=this;this.loader=!0,this.query="page="+this.pagination.page,""!=this.search&&(this.query=this.query+"&search="+this.search),k({url:"/api/user?"+this.query,method:"GET"}).then((function(e){console.log(e),t.user=e.data,t.loader=!1})).catch((function(t){console.log(t.response)}))},close:function(){this.dialog=!1,this.saving||this.resetDialogReferences()},editItem:function(t){this.editedIndex=this.user.indexOf(t),this.editedItem=Jt()({},t),this.dialog=!0,console.log("My Edited Info",t)},resetDialogReferences:function(){this.editedItem=Jt()({},this.defaultItem),this.editedIndex=-1}},Object(Y["a"])(ks,"resetDialogReferences",(function(){this.editedItem=Jt()({},this.defaultItem),this.editedIndex=-1,this.showPasswordField=!1,this.password=""})),Object(Y["a"])(ks,"passordReset",(function(){this.showPasswordField?(this.showPasswordField=!1,this.password=""):this.showPasswordField=!0})),Object(Y["a"])(ks,"generate",(function(){var t=this.characters.split(","),e="",a="";t.indexOf("a-z")>=0&&(e+="abcdefghijklmnopqrstuvwxyz"),t.indexOf("A-Z")>=0&&(e+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"),t.indexOf("0-9")>=0&&(e+="0123456789"),t.indexOf("#")>=0&&(e+="![]{}()%&*$#^<>~@|");for(var i=0;i<this.size;i++)a+=e.charAt(Math.floor(Math.random()*e.length));this.password=a})),Object(Y["a"])(ks,"save",(function(){var t=this;this.saving=!0,this.editedIndex>-1?this.$refs.form.validate()&&(this.showPasswordField&&(this.editedItem.adminPasswordChange=!0,this.editedItem.password=this.password),k({url:"/api/user/"+this.editedItem.id,data:this.editedItem,method:"PUT"}).then((function(e){Jt()(t.user[t.editedIndex],t.editedItem),console.log(e),t.resetDialogReferences(),t.saving=!1,t.message="User Information Updated Succesfully",t.snackbar=!0})).catch((function(t){console.log(t.response)})),this.close()):this.$refs.form.validate()&&(k({url:"/api/user",data:this.editedItem,method:"POST"}).then((function(e){t.user.push(e),console.log(e),t.resetDialogReferences(),t.saving=!1,t.message="New User Added Succesfully",t.snackbar=!0})).catch((function(t){console.log(t.response)})),this.close())})),Object(Y["a"])(ks,"deleteItem",(function(t){if(confirm("Are you sure you want to delete this item?")&&(this.delete=!0),this.delete){var e=this.item.indexOf(t);this.item.splice(e,1),k({url:"/api/user/"+t.id,method:"DELETE"}).then((function(t){console.log(t)})).catch((function(t){console.log(t.response)}))}})),ks),computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"},length:function(){return Math.ceil(this.pagination.total/this.pagination.per_page)}}},Ds=Cs,Is=Object(C["a"])(Ds,ys,ws,!1,null,null,null),qs=Is.exports;I()(Is,{VBtn:V["a"],VCard:yt["a"],VCardActions:wt["a"],VCardText:wt["b"],VContainer:Wt["a"],VDataTable:ni["a"],VDialog:Dt["a"],VFlex:T["a"],VForm:It["a"],VIcon:S["a"],VLayout:O["a"],VPagination:fe["a"],VProgressLinear:ft["a"],VSelect:Gt["a"],VSnackbar:M["a"],VSpacer:z["a"],VTextField:Pt["a"],VToolbar:H["a"],VToolbarTitle:N["b"]});var Ps=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"login_div"}},[a("v-snackbar",{attrs:{timeout:5e3,bottom:"",right:"",color:t.snackbarColor},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[a("span",[t._v(t._s(t.message))])]),a("v-container",{staticClass:"mb-5"},[a("div",{staticClass:"mb-5"},[a("v-layout",{staticClass:"mt-5",attrs:{row:"","justify-center":""}},[a("v-card",{attrs:{elevation:"0","max-width":"500"}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",{staticClass:"black--text darken-1 display-2 font-weight-black mb-3",staticStyle:{"font-family":"Arial, Helvetica, sans-serif"}},[t._v("Create New Password")])]),a("v-card-text",[a("v-form",{ref:"resetform",attrs:{"lazy-validation":""},model:{value:t.validReset,callback:function(e){t.validReset=e},expression:"validReset"}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{type:"password",label:"Password",rules:t.passwordRules,flat:"","prepend-inner-icon":"lock"},model:{value:t.password.password,callback:function(e){t.$set(t.password,"password",e)},expression:"password.password"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{type:"password",label:"Confirm Password",rules:t.passwordRules,flat:"","prepend-inner-icon":"lock"},model:{value:t.password.password_confirmation,callback:function(e){t.$set(t.password,"password_confirmation",e)},expression:"password.password_confirmation"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-btn",{staticClass:"text-none primary mt-4 blue--text",attrs:{depressed:"",round:"",block:"",disabled:!t.validReset,loading:t.resetLoader},on:{click:t.resetPass}},[t._v("Reset")])],1)],1)],1)],1)],1)],1),a("AuthPopUp",{model:{value:t.loginCardState,callback:function(e){t.loginCardState=e},expression:"loginCardState"}})],1)])],1)},Vs=[],Rs={components:{AuthPopUp:Rt},data:function(){return{validReset:!0,resetLoader:!1,password:{password:"",password_confirmation:"",email:"",token:""},snackbar:!1,snackbarColor:"",message:"",passwordRules:[function(t){return!!t||"Password is required"}]}},created:function(){this.initialize()},methods:{initialize:function(){this.password.email=this.$route.params.email,this.password.token=this.$route.params.token},resetPass:function(){var t=this;this.$refs.resetform.validate()&&(this.password.password!=this.password.password_confirmation?(this.message="Passwords do not match",this.snackbarColor="error",this.snackbar=!0,this.resetLoader=!1):(this.resetLoader=!0,k({url:"/api/password/reset",data:this.password,method:"POST"}).then((function(e){t.message="Password Reset Successful",t.snackbarColor="success",t.snackbar=!0,t.resetLoader=!1})).catch((function(e){t.message="Someting Went Wrong",t.snackbarColor="error",t.snackbar=!0,t.resetLoader=!1}))))}},computed:Object(c["a"])({},Object(p["c"])(["loginCardState"]))},Ts=Rs,Ss=Object(C["a"])(Ts,Ps,Vs,!1,null,null,null),Os=Ss.exports;I()(Ss,{VBtn:V["a"],VCard:yt["a"],VCardText:wt["b"],VCardTitle:Ct["a"],VContainer:Wt["a"],VFlex:T["a"],VForm:It["a"],VLayout:O["a"],VSnackbar:M["a"],VTextField:Pt["a"]}),i["a"].use(ot["a"]);var Es=function(t,e,a){ei.getters.isAuthenticated?a("/"):a()},$s=function(t,e,a){ei.getters.isAuthenticated?a():a("/login")},js=new ot["a"]({base:"",routes:[{path:"/login",name:"Login",component:Et,beforeEnter:Es},{path:"/register",name:"Register",component:Qt,beforeEnter:Es},{path:"/reset-password",name:"ResetPass",component:Ft,beforeEnter:Es},{path:"/",name:"dashboard",component:be,beforeEnter:$s},{path:"/service-requests",name:"serviceRequest",component:Se,beforeEnter:$s},{path:"/profile",name:"profile",component:Qe,beforeEnter:$s},{path:"/favourites",name:"favourite",component:Le,beforeEnter:$s},{path:"/admin/",name:"AdminDashboard",component:li,beforeEnter:$s},{path:"/admin/requests",name:"Requests",component:pi,beforeEnter:$s},{path:"/admin/Healthworkers",name:"Healthworkers",component:Si,beforeEnter:$s},{path:"/admin/users",name:"Users",component:bs,beforeEnter:$s},{path:"/admin/WorkerRatings",name:"Ratings",component:Li,beforeEnter:$s},{path:"/admin/Permissions",name:"Permissions",component:Bi,beforeEnter:$s},{path:"/admin/Roles",name:"Roles",component:ts,beforeEnter:$s},{path:"/admin/roleUsers",name:"RolesUser",component:ns,beforeEnter:$s},{path:"/admin/report/requests",name:"Report",component:bi,beforeEnter:$s},{path:"/admin/report/averageratings",name:"Average",component:Ii,beforeEnter:$s},{path:"/admin/facilities",name:"Facilities",component:ms,beforeEnter:$s},{path:"/admin/allusers",name:"AllUsers",component:qs,beforeEnter:$s},{path:"/password-reset/:token/:email",name:"passReset",component:Os}]}),Us=a("ed18"),Ls=a.n(Us),As=a("2b52");i["a"].config.productionTip=!1,i["a"].use(As["a"],Xa),Ls.a.config(),i["a"].config.productionTip=!1,new i["a"]({router:js,store:ei,render:function(t){return t(nt)}}).$mount("#app"),document.addEventListener("deviceready",(function(){console.log("here"),window.FirebasePlugin.getToken((function(t){var e=new FormData;e.append("fcmToken",t),_.a.defaults.headers.common["Authorization"]=localStorage.getItem("user-token"),_.a.post("http://api.health.co.ke/api/userDevice",e).then((function(t){resolve(t.data)})).catch((function(t){reject(new Error(t))})),k({url:"/api/userDevice",data:e,method:"POST"}).then((function(t){})).catch((function(t){})),console.log(t)}),(function(t){console.error(t)})),console.log("Ready, Render the App1"),StatusBar.backgroundColorByHexString("#416184")}));var Fs="undefined"!==typeof window.cordova;Fs||document.dispatchEvent(new CustomEvent("deviceready",{}))},"927d":function(t,e,a){},"99f1":function(t,e,a){"use strict";var i=a("927d"),s=a.n(i);s.a},cb26:function(t,e,a){},f0de:function(t,e,a){"use strict";var i=a("cb26"),s=a.n(i);s.a}});
//# sourceMappingURL=app.d0827746.js.map